exports.id=4020,exports.ids=[4020],exports.modules={1542:(a,b,c)=>{Promise.resolve().then(c.bind(c,19389)),Promise.resolve().then(c.bind(c,40432)),Promise.resolve().then(c.bind(c,87863))},7629:(a,b,c)=>{"use strict";c.d(b,{p:()=>g});var d=c(21124),e=c(38301),f=c(15514);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-11 w-full rounded-lg border-2 border-slate-200 bg-white px-4 py-2 text-sm transition-colors placeholder:text-slate-400","focus-visible:outline-none focus-visible:border-indigo-400 focus-visible:ring-2 focus-visible:ring-indigo-500/20","disabled:cursor-not-allowed disabled:opacity-50","file:border-0 file:bg-transparent file:text-sm file:font-medium",a),ref:e,...c}));g.displayName="Input"},9188:(a,b,c)=>{"use strict";c.d(b,{SQ:()=>j,_2:()=>k,rI:()=>h,ty:()=>i});var d=c(21124),e=c(38301),f=c(65550),g=c(15514);let h=f.bL,i=f.l9,j=e.forwardRef(({className:a,sideOffset:b=4,...c},e)=>(0,d.jsx)(f.ZL,{children:(0,d.jsx)(f.UC,{ref:e,sideOffset:b,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-slate-200/80 bg-white p-1.5 text-slate-950 shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c})}));j.displayName=f.UC.displayName;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.q7,{ref:c,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...b}));k.displayName=f.q7.displayName},11761:(a,b,c)=>{"use strict";c.d(b,{AppSidebar:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call AppSidebar() from the server but AppSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\aniru\\Desktop\\a2m8ai\\school-lms\\components\\layout\\app-sidebar.tsx","AppSidebar")},14860:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},15281:(a,b,c)=>{"use strict";c.d(b,{n:()=>f});var d=c(11453),e=c(33699);let f=(0,d.v)()((0,e.Zr)(a=>({user:null,parentMode:!1,setUser:b=>a({user:b,parentMode:!1}),setParentMode:b=>a({parentMode:b}),logout:()=>a({user:null,parentMode:!1})}),{name:"lms-auth"}))},15514:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(75338),e=c(24546),f=c.n(e),g=c(38020),h=c.n(g);c(82704);var i=c(66664);let j={title:"School LMS - Learning Management System",description:"Production-grade LMS prototype for schools"};function k({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(i.Providers,{children:a})})})}},17290:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>h});var d=c(21124),e=c(59894),f=c(96610),g=c(38301);function h({children:a}){let[b]=(0,g.useState)(()=>new e.E({defaultOptions:{queries:{staleTime:6e4}}}));return(0,d.jsx)(f.Ht,{client:b,children:a})}},19217:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(21124),e=c(38301),f=c(96425),g=c(26691),h=c(15514);let i=(0,g.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700 hover:shadow-md",destructive:"bg-red-500 text-white shadow-sm hover:bg-red-600",outline:"border-2 border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/50",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-indigo-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-6",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},19389:(a,b,c)=>{"use strict";c.d(b,{AuthHydration:()=>e}),c(38301);var d=c(15281);function e(){return(0,d.n)(a=>a.setUser),null}},20452:(a,b,c)=>{Promise.resolve().then(c.bind(c,17290))},33305:(a,b,c)=>{"use strict";c.d(b,{Cf:()=>i,Es:()=>m,L3:()=>k,c7:()=>j,lG:()=>h,rr:()=>l});var d=c(21124),e=c(38301),f=c(6843),g=c(15514);let h=f.bL;f.l9;let i=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.ZL,{children:[(0,d.jsx)(f.hJ,{className:"fixed inset-0 z-50 bg-black/50"}),(0,d.jsx)(f.UC,{ref:e,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] rounded-lg border bg-white p-6 shadow-lg",a),...c,children:b})]}));i.displayName=f.UC.displayName;let j=({className:a,...b})=>(0,d.jsx)("div",{className:(0,g.cn)("mb-4",a),...b}),k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,g.cn)("text-lg font-semibold",a),...b}));k.displayName=f.hE.displayName;let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,g.cn)("text-sm text-slate-500",a),...b}));l.displayName=f.VY.displayName;let m=({className:a,...b})=>(0,d.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});m.displayName="DialogFooter"},39012:(a,b,c)=>{Promise.resolve().then(c.bind(c,66664))},40432:(a,b,c)=>{"use strict";c.d(b,{AppSidebar:()=>L});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(42378),i=c(15514),j=c(77850),k=c(84905),l=c(65893),m=c(74097),n=c(96274),o=c(94684),p=c(56203),q=c(15952),r=c(4492),s=c(94104),t=c(44688),u=c(87278),v=c(25795),w=c(71179),x=c(62781),y=c(16945),z=c(18004),A=c(75234),B=c(15281),C=c(19217),D=c(7629),E=c(33305);function F({open:a,onOpenChange:b}){let[c,f]=(0,e.useState)(""),[g,i]=(0,e.useState)(""),j=(0,h.useRouter)(),k=(0,B.n)(a=>a.setParentMode),l=async()=>{if(!(await fetch("/api/auth/parent-mode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:c})})).ok)return void i("Invalid parent password. Demo: 1234");k(!0),b(!1),j.push("/parent/dashboard")};return(0,d.jsx)(E.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(E.Cf,{children:[(0,d.jsx)(E.c7,{children:(0,d.jsx)(E.L3,{children:"Switch to Parent Mode"})}),(0,d.jsx)("p",{className:"text-sm text-slate-500",children:"Enter parent password (demo: 1234)"}),(0,d.jsx)(D.p,{type:"password",value:c,onChange:a=>{f(a.target.value),i("")},placeholder:"Parent password"}),g&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:g}),(0,d.jsx)(C.$,{onClick:l,children:"Unlock"})]})})}let G={LayoutDashboard:j.A,School:k.A,Users:l.A,BookOpen:m.A,FileCheck:n.A,Settings:o.A,Megaphone:p.A,BarChart3:q.A,GraduationCap:r.A,ClipboardList:s.A,MessageSquare:t.A,Video:u.A,CircleDot:v.A,MessageCircle:w.A,UserCircle:x.A,AlertTriangle:y.A,Activity:z.A},H=[{label:"Dashboard",href:"/admin/dashboard",icon:"LayoutDashboard"},{label:"School Setup",href:"/admin/school-setup",icon:"School"},{label:"Users & Roles",href:"/admin/users",icon:"Users"},{label:"Courses",href:"/admin/courses",icon:"BookOpen"},{label:"Content Governance",href:"/admin/content-governance",icon:"FileCheck"},{label:"Assessments",href:"/admin/assessments",icon:"ClipboardList"},{label:"AI Controls",href:"/admin/ai-controls",icon:"Settings"},{label:"Announcements",href:"/admin/announcements",icon:"Megaphone"},{label:"Reports",href:"/admin/reports",icon:"BarChart3"}],I=[{label:"Dashboard",href:"/teacher/dashboard",icon:"LayoutDashboard"},{label:"Classes",href:"/teacher/classes",icon:"GraduationCap"},{label:"Assignments",href:"/teacher/assignments",icon:"ClipboardList"},{label:"Quizzes",href:"/teacher/quizzes",icon:"ClipboardList"},{label:"Live Class",href:"/teacher/live",icon:"Video"},{label:"Analytics",href:"/teacher/analytics",icon:"BarChart3"},{label:"Messages",href:"/teacher/messages",icon:"MessageSquare"}],J=[{label:"Dashboard",href:"/student/dashboard",icon:"LayoutDashboard"},{label:"Courses",href:"/student/courses",icon:"BookOpen"},{label:"Practice",href:"/student/practice",icon:"ClipboardList"},{label:"AI Tutor",href:"/student/ai-tutor",icon:"MessageCircle"},{label:"Assignments",href:"/student/assignments",icon:"FileCheck"},{label:"Exams/Quizzes",href:"/student/quizzes",icon:"ClipboardList"},{label:"Progress",href:"/student/progress",icon:"BarChart3"},{label:"Announcements",href:"/student/announcements",icon:"Megaphone"},{label:"Messages",href:"/student/messages",icon:"MessageSquare"}],K=[{label:"Dashboard",href:"/parent/dashboard",icon:"LayoutDashboard"},{label:"Performance",href:"/parent/performance",icon:"BarChart3"},{label:"Attendance",href:"/parent/attendance",icon:"UserCircle"},{label:"Report Cards",href:"/parent/report-cards",icon:"FileCheck"},{label:"Messages",href:"/parent/messages",icon:"MessageSquare"},{label:"Activity",href:"/parent/activity",icon:"Activity"},{label:"Alerts",href:"/parent/alerts",icon:"AlertTriangle"}];function L(){let a=(0,h.usePathname)(),b=(0,B.n)(a=>a.user),c=(0,B.n)(a=>a.parentMode),[f,k]=(0,e.useState)(!1),l=c&&b?.role==="STUDENT"?K:b?.role==="ADMIN"?H:b?.role==="TEACHER"?I:b?.role==="PARENT"?K:b?.role==="STUDENT"?J:H;return(0,d.jsxs)("aside",{className:"flex h-full w-60 flex-col border-r border-slate-200/80 bg-white shadow-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 p-5",children:[(0,d.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-700 text-white shadow-sm",children:(0,d.jsx)(A.A,{className:"h-5 w-5"})}),(0,d.jsx)(g(),{href:"/",className:"text-lg font-bold text-slate-900",children:"School LMS"})]}),(0,d.jsx)("nav",{className:"flex-1 space-y-1 px-3 py-2",children:l.map(b=>{let c=G[b.icon]??j.A,e=a===b.href||a.startsWith(b.href+"/");return(0,d.jsxs)(g(),{href:b.href,className:(0,i.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200",e?"bg-indigo-50 text-indigo-700 shadow-sm":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),children:[(0,d.jsx)(c,{className:(0,i.cn)("h-5 w-5",e?"text-indigo-600":"text-slate-400")}),b.label]},b.href)})}),b?.role==="STUDENT"&&!c&&(0,d.jsx)("div",{className:"border-t border-slate-100 p-4",children:(0,d.jsx)("button",{onClick:()=>k(!0),className:"w-full rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm font-medium text-amber-800 transition-colors hover:bg-amber-100",children:"Switch to Parent Mode"})}),(0,d.jsx)(F,{open:f,onOpenChange:k})]})}},61374:(a,b,c)=>{Promise.resolve().then(c.bind(c,64375)),Promise.resolve().then(c.bind(c,11761)),Promise.resolve().then(c.bind(c,93077))},64375:(a,b,c)=>{"use strict";c.d(b,{AuthHydration:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call AuthHydration() from the server but AuthHydration is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\aniru\\Desktop\\a2m8ai\\school-lms\\components\\auth-hydration.tsx","AuthHydration")},66664:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\aniru\\Desktop\\a2m8ai\\school-lms\\components\\providers.tsx","Providers")},78412:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},82704:()=>{},87863:(a,b,c)=>{"use strict";c.d(b,{AppTopbar:()=>r});var d=c(21124),e=c(42378),f=c(3991),g=c.n(f),h=c(59405),i=c(65888),j=c(47268),k=c(10578),l=c(19710),m=c(15281),n=c(19217),o=c(9188),p=c(15514);function q(){let a=(0,e.usePathname)().split("/").filter(Boolean);return(0,d.jsxs)("nav",{className:"flex items-center gap-1 text-sm",children:[(0,d.jsx)(g(),{href:"/",className:"rounded-md px-2 py-1 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700",children:"Home"}),a.map((b,c)=>(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 text-slate-300"}),(0,d.jsx)("span",{className:(0,p.cn)("rounded-md px-2 py-1 capitalize",c===a.length-1?"font-medium text-slate-900":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"),children:b.replace(/-/g," ")})]},c))]})}function r(){let a=(0,m.n)(a=>a.user),b=(0,m.n)(a=>a.parentMode),c=(0,m.n)(a=>a.logout),e=async()=>{await fetch("/api/auth/logout",{method:"POST"}),c(),window.location.href="/login"};return(0,d.jsxs)("header",{className:"sticky top-0 z-10 flex h-14 items-center justify-between border-b border-slate-200/80 bg-white/80 px-6 backdrop-blur-sm",children:[(0,d.jsx)(q,{}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(n.$,{variant:"ghost",size:"icon",className:"rounded-full",title:"Command palette (Ctrl+K)",children:(0,d.jsx)(i.A,{className:"h-5 w-5 text-slate-500"})}),(0,d.jsxs)(n.$,{variant:"ghost",size:"icon",className:"rounded-full relative",title:"Notifications",children:[(0,d.jsx)(j.A,{className:"h-5 w-5 text-slate-500"}),(0,d.jsx)("span",{className:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-indigo-500 text-[10px] font-medium text-white",children:"3"})]}),(0,d.jsxs)(o.rI,{children:[(0,d.jsx)(o.ty,{asChild:!0,children:(0,d.jsxs)(n.$,{variant:"ghost",className:"gap-2 rounded-full pl-2 pr-3 hover:bg-slate-100",children:[(0,d.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 text-indigo-600",children:(0,d.jsx)(k.A,{className:"h-4 w-4"})}),(0,d.jsx)("span",{className:"max-w-[120px] truncate text-sm font-medium",children:a?.name??"User"}),b&&(0,d.jsx)("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-xs font-medium text-amber-800",children:"Parent"})]})}),(0,d.jsxs)(o.SQ,{align:"end",className:"w-56 rounded-xl border-slate-200/80 p-1 shadow-lg",children:[(0,d.jsx)(o._2,{asChild:!0,children:(0,d.jsx)(g(),{href:"/pricing",className:"flex cursor-pointer items-center rounded-lg px-3 py-2",children:"Pricing"})}),a?.role==="ADMIN"&&(0,d.jsx)(o._2,{onClick:async()=>{await fetch("/api/seed/reset",{method:"POST"}),window.location.reload()},className:"flex cursor-pointer items-center rounded-lg px-3 py-2",children:"Reset Demo Data"}),(0,d.jsxs)(o._2,{onClick:e,className:"flex cursor-pointer items-center rounded-lg px-3 py-2 text-red-600 focus:text-red-600",children:[(0,d.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}},93077:(a,b,c)=>{"use strict";c.d(b,{AppTopbar:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call AppTopbar() from the server but AppTopbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\aniru\\Desktop\\a2m8ai\\school-lms\\components\\layout\\app-topbar.tsx","AppTopbar")},98916:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h});var d=c(75338),e=c(11761),f=c(93077),g=c(64375);function h({children:a}){return(0,d.jsxs)("div",{className:"flex h-screen flex-col bg-slate-50/80",children:[(0,d.jsx)(g.AuthHydration,{}),(0,d.jsx)(f.AppTopbar,{}),(0,d.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,d.jsx)(e.AppSidebar,{}),(0,d.jsx)("main",{className:"flex-1 overflow-auto p-6",children:(0,d.jsx)("div",{className:"mx-auto max-w-7xl",children:a})})]})]})}}};