(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7116],{4399:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("FileCheck2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]])},12108:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},24033:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},24722:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},25016:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(2821),l=t(75889);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}},26983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},47937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},61362:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},66234:(e,s,t)=>{Promise.resolve().then(t.bind(t,87680))},67812:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var a=t(95155);t(12115);var l=t(83101),i=t(25016);let r=(0,l.F)("inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-slate-900 text-white",secondary:"bg-slate-100 text-slate-700",destructive:"bg-red-100 text-red-700",outline:"border-2 border-slate-200 text-slate-700",success:"bg-emerald-100 text-emerald-700"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{className:(0,i.cn)(r({variant:t}),s),...l})}},68122:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(95155),l=t(25016);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...t})}},80183:(e,s,t)=>{"use strict";t.d(s,{R:()=>l});var a=t(92118);function l(e){return+(0,a.a)(e)<Date.now()}},87680:(e,s,t)=>{"use strict";t.d(s,{StudentWorkspaceClient:()=>A});var a=t(95155),l=t(12115),i=t(22454),r=t(90923),d=t(68122),n=t(67812),c=t(97003),o=t(16485),h=t(26983),m=t(47937),x=t(12108),u=t(24033),p=t(61362),v=t(99708),f=t(95740),g=t(89715),b=t(92301),y=t(24722),j=t(4399),N=t(80183),w=t(26467),k=t(24986);function A(e){let{classSectionId:s,subjectId:t,subjectName:l,grade:i}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:l}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-slate-500",children:["Grade ",i," • Your Course Workspace"]})]})}),(0,a.jsxs)(r.tU,{defaultValue:"schedule",className:"w-full",children:[(0,a.jsxs)(r.j7,{className:"bg-white border border-slate-200",children:[(0,a.jsx)(r.Xi,{value:"schedule",children:"Schedule"}),(0,a.jsx)(r.Xi,{value:"syllabus",children:"Syllabus"}),(0,a.jsx)(r.Xi,{value:"materials",children:"Materials"})]}),(0,a.jsx)(r.av,{value:"schedule",className:"mt-4 outline-none",children:(0,a.jsx)(M,{classSectionId:s,subjectId:t})}),(0,a.jsx)(r.av,{value:"syllabus",className:"mt-4 outline-none",children:(0,a.jsx)(C,{classSectionId:s,subjectId:t})}),(0,a.jsx)(r.av,{value:"materials",className:"mt-4 outline-none",children:(0,a.jsx)(q,{classSectionId:s,subjectId:t})})]})]})}function M(e){let{classSectionId:s,subjectId:t}=e,{data:l,isLoading:r,error:c}=(0,i.I)({queryKey:["student-schedule",s,t],queryFn:async()=>{let e=await fetch("/api/classes/".concat(s,"/").concat(t,"/schedule"));if(!e.ok)throw Error("Failed to fetch");return e.json()}});if(r)return(0,a.jsx)(d.E,{className:"h-64 w-full rounded-xl"});if(c)return(0,a.jsx)("div",{className:"p-4 text-red-500",children:"Error loading schedule."});let m=[...l||[]].sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime());return(0,a.jsx)("div",{className:"space-y-4",children:0===m.length?(0,a.jsx)("div",{className:"p-8 text-center text-slate-500 bg-white border border-slate-200 rounded-xl",children:"No schedule available."}):m.map(e=>{(0,N.R)((0,w.H)(e.date));let s="Completed"===e.status;return(0,a.jsxs)("div",{className:"p-4 rounded-xl border flex flex-col md:flex-row md:items-center justify-between gap-4 transition-colors ".concat(s?"bg-slate-50 border-slate-200 opacity-80":"bg-white border-slate-200"),children:[(0,a.jsxs)("div",{className:"flex items-start md:items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg shrink-0 ".concat(s?"bg-slate-200 text-slate-500":"bg-indigo-100 text-indigo-600"),children:(0,a.jsx)(o.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-semibold ".concat(s?"text-slate-600":"text-slate-900"),children:e.topic}),(0,a.jsx)(n.E,{variant:"outline",className:"Test"===e.type?"text-rose-600 border-rose-200 bg-rose-50":"text-slate-500",children:e.type})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-3.5 h-3.5"})," ",(0,k.GP)((0,w.H)(e.date),"MMM d, yyyy")]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"w-3.5 h-3.5"})," ",e.startTime," - ",e.endTime]})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(n.E,{variant:"secondary",className:s?"bg-slate-200 text-slate-600":"bg-emerald-100 text-emerald-700",children:e.status})})]},e.id)})})}function C(e){let{classSectionId:s,subjectId:t}=e,[r,o]=(0,l.useState)({}),{data:h,isLoading:g}=(0,i.I)({queryKey:["student-syllabus",s,t],queryFn:async()=>(await fetch("/api/classes/".concat(s,"/").concat(t,"/lesson-plan"))).json()});return g?(0,a.jsx)(d.E,{className:"h-64 w-full rounded-xl"}):(0,a.jsx)("div",{className:"space-y-4",children:null==h?void 0:h.map(e=>{let s=!1!==r[e.chapterId],t=e.lessons.length,l=e.lessons.filter(e=>e.completed).length,i=0===t?0:Math.round(l/t*100);return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-slate-50",onClick:()=>{let s;return s=e.chapterId,o(e=>({...e,[s]:!e[s]}))},children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-50 text-indigo-700 rounded-lg",children:(0,a.jsx)(m.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900",children:e.chapterTitle}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:[l," / ",t," Lessons Completed"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-32 bg-slate-100 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:"".concat(i,"%")}})}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-slate-600",children:[i,"%"]})]}),(0,a.jsx)(c.$,{variant:"ghost",size:"icon",className:"shrink-0 text-slate-400",children:s?(0,a.jsx)(x.A,{className:"w-5 h-5"}):(0,a.jsx)(u.A,{className:"w-5 h-5"})})]})]}),s&&(0,a.jsx)("div",{className:"border-t border-slate-100 bg-slate-50/50 p-4 space-y-3",children:0===e.lessons.length?(0,a.jsx)("div",{className:"text-sm text-slate-500 text-center py-4",children:"No lessons in syllabus."}):e.lessons.map(e=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-slate-200 flex flex-col md:flex-row gap-4 items-start md:items-center justify-between hover:border-indigo-200 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[e.completed?(0,a.jsx)(p.A,{className:"w-5 h-5 mt-1 text-emerald-500 shrink-0"}):(0,a.jsx)(v.A,{className:"w-5 h-5 mt-1 text-slate-300 shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium ".concat(e.completed?"text-slate-900":"text-slate-500"),children:e.title}),e.aiGeneratedSummary&&e.completed&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-indigo-50/50 border border-indigo-100 rounded-md text-sm text-indigo-900 leading-relaxed shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 font-semibold text-indigo-700 mb-1 text-xs uppercase tracking-wide",children:[(0,a.jsx)(f.A,{className:"w-3.5 h-3.5"})," AI Summary"]}),e.aiGeneratedSummary]})]})]}),(0,a.jsx)("div",{className:"shrink-0",children:e.completed?(0,a.jsx)(c.$,{variant:"outline",size:"sm",className:"text-indigo-600 border-indigo-200",children:"View Content"}):(0,a.jsx)(n.E,{variant:"outline",className:"text-slate-400 bg-slate-50",children:"Locked"})})]},e.id))})]},e.chapterId)})})}function q(e){let{classSectionId:s,subjectId:t}=e,{data:l,isLoading:r}=(0,i.I)({queryKey:["student-materials",s,t],queryFn:async()=>(await fetch("/api/classes/".concat(s,"/").concat(t,"/materials"))).json()});if(r)return(0,a.jsx)(d.E,{className:"h-64 w-full rounded-xl"});let c=(null==l?void 0:l.filter(e=>"Students"===e.visibility))||[];return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===c.length?(0,a.jsx)("div",{className:"col-span-full p-8 text-center text-slate-500 bg-white border border-slate-200 rounded-xl",children:"No materials available yet."}):c.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-shadow cursor-pointer",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-slate-50 rounded-xl",children:(e=>{switch(e){case"PDF":return(0,a.jsx)(g.A,{className:"w-8 h-8 text-rose-500"});case"Video":return(0,a.jsx)(b.A,{className:"w-8 h-8 text-indigo-500"});case"PPT":return(0,a.jsx)(y.A,{className:"w-8 h-8 text-amber-500"});case"Worksheet":return(0,a.jsx)(j.A,{className:"w-8 h-8 text-emerald-500"});default:return(0,a.jsx)(g.A,{className:"w-8 h-8 text-slate-500"})}})(e.type)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900 line-clamp-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-500",children:[(0,a.jsx)("span",{className:"font-medium",children:e.type}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(0,k.GP)((0,w.H)(e.uploadedAt),"MMM d, yyyy")})]})]}),(0,a.jsx)("div",{className:"mt-6 flex items-center border-t border-slate-100 pt-4",children:(0,a.jsx)(n.E,{variant:"secondary",className:"bg-indigo-50 text-indigo-700 hover:bg-indigo-100",children:"Lesson"===e.attachedTo?"Lesson Resource":"General Topic"})})]},e.id))})}},89715:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},90923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>n,tU:()=>d});var a=t(95155),l=t(12115),i=t(25667),r=t(25016);let d=i.bL,n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.B8,{ref:s,className:(0,r.cn)("inline-flex h-11 items-center justify-center rounded-xl bg-slate-100/80 p-1.5",t),...l})});n.displayName=i.B8.displayName;let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.l9,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm",t),...l})});c.displayName=i.l9.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.UC,{ref:s,className:(0,r.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2",t),...l})});o.displayName=i.UC.displayName},92301:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("SquarePlay",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 8 6 4-6 4Z",key:"f1r3lt"}]])},95740:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},97003:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var a=t(95155),l=t(12115),i=t(32467),r=t(83101),d=t(25016);let n=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700 hover:shadow-md",destructive:"bg-red-500 text-white shadow-sm hover:bg-red-600",outline:"border-2 border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/50",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-indigo-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-6",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,s)=>{let{className:t,variant:l,size:r,asChild:c=!1,...o}=e,h=c?i.DX:"button";return(0,a.jsx)(h,{className:(0,d.cn)(n({variant:l,size:r,className:t})),ref:s,...o})});c.displayName="Button"},99708:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[5707,1910,6743,2454,4592,5667,8441,1255,7358],()=>e(e.s=66234)),_N_E=e.O()}]);