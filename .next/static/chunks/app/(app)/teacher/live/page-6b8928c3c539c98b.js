(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3585],{3357:(e,s,t)=>{Promise.resolve().then(t.bind(t,8445))},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8445:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(95155),r=t(12115),l=t(20063),i=t(14824),n=t(97003),d=t(16485),o=t(90368),c=t(27937),m=t(60890),h=t(6191),x=t(82192),u=t(4168),f=t(92118);function v(e,s,t){let a=(0,f.a)(e,null==t?void 0:t.in);return isNaN(s)?(0,u.w)((null==t?void 0:t.in)||e,NaN):(s&&a.setDate(a.getDate()+s),a)}var b=t(26467),p=t(45240),g=t(93366);function N(e,s,t){let[a,r]=(0,p.x)(null==t?void 0:t.in,e,s);return+(0,g.o)(a)==+(0,g.o)(r)}var j=t(24986);function w(){let e=(0,l.useRouter)(),s=(0,i.KA)(),[t,u]=(0,r.useState)(new Date),[f,p]=(0,r.useState)(new Date);(0,r.useEffect)(()=>{let e=setInterval(()=>p(new Date),6e4);return()=>clearInterval(e)},[]);let w=s.classSections.filter(e=>e.teacherIds.includes("teacher1")),k=w.map(e=>e.id),y=s.schedules.filter(e=>k.includes(e.classSectionId)),A=(0,x.k)(t,{weekStartsOn:1}),P=Array.from({length:5}).map((e,s)=>v(A,s)),C=Array.from({length:9}).map((e,s)=>s+8),S=f.getHours(),M=f.getMinutes(),z=((S-8)*60+M)/60*80;return(0,a.jsxs)("div",{className:"flex flex-col h-[calc(100vh-4rem)] bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200 bg-white shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("h1",{className:"text-xl font-semibold text-slate-800 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-indigo-600"}),"Calendar"]}),(0,a.jsx)("div",{className:"h-6 w-px bg-slate-200 hidden sm:block"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 hidden sm:flex",children:[(0,a.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>u(new Date),className:"px-3 h-8 text-sm font-medium",children:"Today"}),(0,a.jsxs)("div",{className:"flex items-center border border-slate-200 rounded-md overflow-hidden ml-2 h-8",children:[(0,a.jsx)("button",{onClick:()=>u(v(t,-7)),className:"px-2 h-full bg-white hover:bg-slate-50 border-r border-slate-200",children:(0,a.jsx)(o.A,{className:"h-4 w-4 text-slate-600"})}),(0,a.jsx)("button",{onClick:()=>u(v(t,7)),className:"px-2 h-full bg-white hover:bg-slate-50",children:(0,a.jsx)(c.A,{className:"h-4 w-4 text-slate-600"})})]}),(0,a.jsx)("span",{className:"ml-4 text-sm font-medium text-slate-700",children:(0,j.GP)(P[0],"MMMM yyyy")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"hidden sm:flex text-slate-600",children:["Work week ",(0,a.jsx)(c.A,{className:"ml-1 h-3 w-3 rotate-90"})]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"hidden md:flex text-slate-600",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Meet now"]}),(0,a.jsxs)(n.$,{size:"sm",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"})," New Class"]})]})]}),(0,a.jsx)("div",{className:"flex flex-1 overflow-hidden",children:(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex border-b border-slate-200 bg-slate-50/50 sticky top-0 z-10",children:[(0,a.jsx)("div",{className:"w-16 shrink-0 border-r border-slate-100"}),P.map((e,s)=>(0,a.jsxs)("div",{className:"flex-1 min-w-[120px] py-3 text-center border-r border-slate-100 relative ".concat(N(e,f)?"bg-indigo-50/30":""),children:[(0,a.jsx)("div",{className:"text-xs font-semibold uppercase text-slate-500",children:(0,j.GP)(e,"EEE")}),(0,a.jsxs)("div",{className:"text-2xl mt-0.5 ".concat(N(e,f)?"text-indigo-600 font-bold":"text-slate-700"),children:[(0,j.GP)(e,"d"),N(e,f)&&(0,a.jsx)("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-indigo-600"})]})]},s))]}),(0,a.jsxs)("div",{className:"flex relative bg-white pb-8",children:[(0,a.jsx)("div",{className:"w-16 shrink-0 border-r border-slate-100 relative",children:C.map((e,s)=>(0,a.jsx)("div",{className:"h-[80px] relative",children:(0,a.jsx)("span",{className:"absolute -top-3 right-2 text-xs font-medium text-slate-400",children:e>12?"".concat(e-12," PM"):12===e?"12 PM":"".concat(e," AM")})},e))}),(0,a.jsx)("div",{className:"flex-1 flex",children:P.map((t,r)=>(0,a.jsxs)("div",{className:"flex-1 min-w-[120px] border-r border-slate-100 relative ".concat(N(t,f)?"bg-indigo-50/10":""),children:[N(t,f)&&z>=0&&z<=80*C.length&&(0,a.jsx)("div",{className:"absolute left-0 right-0 border-t-2 border-rose-500 z-20 pointer-events-none",style:{top:"".concat(z,"px")},children:(0,a.jsx)("div",{className:"absolute -left-1.5 -top-1.5 w-3 h-3 rounded-full bg-rose-500"})}),C.map((r,l)=>{let i=y.filter(e=>{if(!N((0,b.H)(e.date),t))return!1;let s=parseInt(e.startTime.split(":")[0],10);return("10:00"===e.startTime?9+parseInt(e.id.split("_")[1]||"0")%6:s)===r});return(0,a.jsx)("div",{className:"h-[80px] border-b border-slate-100 relative p-1",children:i.map((l,i)=>{let n=w.find(e=>e.id===l.classSectionId),d=s.subjects.find(e=>e.id===l.subjectId),o=(r+1)*60,c="Completed"===l.status||t<(0,g.o)(f)||N(t,f)&&o<=60*S+M;return(0,a.jsxs)("div",{onClick:()=>{e.push("/teacher/live/mock-session-".concat(l.id))},className:"\n                                   group cursor-pointer rounded-md p-2 mb-1 shadow-sm border transition-all hover:shadow-md\n                                   ".concat(c?"bg-slate-50 border-slate-200 opacity-60 hover:opacity-100":"bg-indigo-50 border-indigo-200 border-l-4 border-l-indigo-500 hover:bg-indigo-100","\n                                 "),style:{position:"absolute",top:"4px",left:"4px",right:"4px",height:"calc(100% - 8px)",zIndex:5},children:[(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{className:"text-xs font-semibold text-slate-900 truncate",children:[null==d?void 0:d.name," - ",null==n?void 0:n.grade,null==n?void 0:n.sectionName]})}),(0,a.jsx)("div",{className:"text-[10px] text-slate-500 truncate mt-0.5",children:l.topic}),!c&&(0,a.jsxs)("div",{className:"absolute bottom-1.5 left-2 flex items-center text-[10px] font-medium text-indigo-600",children:[(0,a.jsx)(m.A,{className:"w-3 h-3 mr-1"}),"Join Class"]})]},l.id)})},r)})]},r))})]})]})})]})}},14824:(e,s,t)=>{"use strict";t.d(s,{KA:()=>l});var a=t(75106);let r={users:[...a.HZ],school:{...a.X$},classSections:[...a.Sm],subjects:[...a.u0],chapters:[...a.l1],lessons:[...a.Yq],assignments:[...a.dS],submissions:[...a.il],quizzes:[...a.O5],attendanceSessions:[...a.M6],announcements:[...a.hh],messageThreads:[...a.m$],liveSessions:[],savedLessonPlans:[],schedules:[...a.Hj],materials:[...a.VY]};function l(){return r}},20063:(e,s,t)=>{"use strict";var a=t(47260);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},27937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},60890:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},71847:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(12115);let r=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:s,...l,width:i,height:i,stroke:t,strokeWidth:d?24*Number(n)/Number(i):n,className:r("lucide",o),...h},[...m.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),n=(e,s)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:n,...d}=t;return(0,a.createElement)(i,{ref:l,iconNode:s,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),n),...d})});return t.displayName="".concat(e),t}},90368:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])}},e=>{e.O(0,[5707,4592,2904,8441,1255,7358],()=>e(e.s=3357)),_N_E=e.O()}]);