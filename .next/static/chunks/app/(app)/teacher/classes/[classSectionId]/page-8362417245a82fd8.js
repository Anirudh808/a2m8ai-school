(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7268],{16730:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(95155),l=a(20063),n=a(52619),r=a.n(n),i=a(90368),c=a(99776),o=a(22454),d=a(97003),h=a(83209),u=a(90923),m=a(12115),x=a(71847);let p=(0,x.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f=(0,x.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function j(e,s,a){return"# ".concat(e.title,"\n\n## Overview\nThis lesson covers the key concepts of ").concat(e.title.toLowerCase()," in ").concat(s,". It is designed for Grade ").concat(a," students.\n\n## Topics & Subtopics\n").concat(e.objectives.map((e,s)=>"".concat(s+1,". **").concat(e,"**\n   - Detailed explanation of the concept\n   - Step-by-step breakdown for clarity\n")).join(""),"\n\n## Key Takeaways\n- Students will understand the fundamental principles\n- Practical applications will be demonstrated\n- Assessment will cover the learning objectives")}function v(e,s){return"## Example Problems\n\n### Example 1\n**Problem:** A typical problem based on ".concat(e.title,"\n**Solution:** Step 1 - Identify the key elements. Step 2 - Apply the formula/method. Step 3 - Verify the result.\n\n### Example 2\n**Real-world use case:** How ").concat(e.title," applies in everyday situations.\n**Application:** Connect theory to practical scenarios students can relate to.\n\n### Example 3\n**Common mistake:** What students often get wrong and how to avoid it.")}function b(e){return["[Figure 1] Diagram showing ".concat(e.title," - Number line / Concept map"),"[Figure 2] Real-world illustration - Photo or illustration","[Figure 3] Step-by-step visual - Process diagram"]}function g(e){let{classSectionId:s,classSection:a,subjects:l,chapters:n,lessons:r}=e,[i,c]=(0,m.useState)(""),[o,u]=(0,m.useState)(""),[x,g]=(0,m.useState)(""),[w,N]=(0,m.useState)(""),[y,S]=(0,m.useState)(""),[C,k]=(0,m.useState)([]),[R,P]=(0,m.useState)(!1),L=n.filter(e=>e.subjectId===i),A=r.filter(e=>e.chapterId===o),E=r.find(e=>e.id===x),I=l.find(e=>e.id===i),z=(0,m.useCallback)(()=>{E&&I&&(N(j(E,I.name,a.grade)),S(v(E,I.name)),k(b(E)))},[E,I,a.grade]),Z=async()=>{(await fetch("/api/lesson-plans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classSectionId:s,subjectId:i,chapterId:o,lessonId:x,explanation:w,examples:y,imageRefs:C})})).ok&&P(!0)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsx)("h3",{className:"font-semibold",children:"Select Chapter & Lesson"})}),(0,t.jsxs)(h.Wu,{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm text-slate-500",children:"Subject"}),(0,t.jsxs)("select",{className:"rounded-md border border-slate-200 px-3 py-2 text-sm",value:i,onChange:e=>{c(e.target.value),u(""),g(""),N(""),S(""),k([])},children:[(0,t.jsx)("option",{value:"",children:"Select subject"}),l.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm text-slate-500",children:"Chapter"}),(0,t.jsxs)("select",{className:"rounded-md border border-slate-200 px-3 py-2 text-sm",value:o,onChange:e=>{u(e.target.value),g(""),N(""),S(""),k([])},children:[(0,t.jsx)("option",{value:"",children:"Select chapter"}),L.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm text-slate-500",children:"Lesson"}),(0,t.jsxs)("select",{className:"rounded-md border border-slate-200 px-3 py-2 text-sm",value:x,onChange:e=>(e=>{g(e);let s=r.find(s=>s.id===e),t=l.find(e=>e.id===i);s&&t?(N(j(s,t.name,a.grade)),S(v(s,t.name)),k(b(s))):(N(""),S(""),k([]))})(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select lesson"}),A.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),x&&(0,t.jsx)(d.$,{onClick:z,size:"sm",className:"self-end",children:"Generate Plan"})]})]}),(w||y||C.length>0)&&(0,t.jsxs)("div",{className:"grid min-h-[500px] grid-cols-1 gap-4 lg:grid-cols-2 lg:grid-rows-2",children:[(0,t.jsx)("div",{className:"lg:row-span-2 lg:min-h-[400px]",children:(0,t.jsxs)(h.Zp,{className:"flex h-full flex-col",children:[(0,t.jsxs)(h.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"1. Lesson Explanation"}),(0,t.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:()=>E&&I&&N(j(E,I.name,a.grade)),children:[(0,t.jsx)(p,{className:"mr-1 h-4 w-4"}),"Regenerate"]})]}),(0,t.jsx)(h.Wu,{className:"flex-1 overflow-auto",children:(0,t.jsx)("div",{className:"prose prose-sm max-w-none whitespace-pre-wrap text-slate-700",children:w})})]})}),(0,t.jsx)("div",{className:"min-h-[200px]",children:(0,t.jsxs)(h.Zp,{className:"flex h-full flex-col",children:[(0,t.jsxs)(h.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"2. Examples"}),(0,t.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:()=>E&&I&&S(v(E,I.name)),children:[(0,t.jsx)(p,{className:"mr-1 h-4 w-4"}),"Regenerate"]})]}),(0,t.jsx)(h.Wu,{className:"flex-1 overflow-auto",children:(0,t.jsx)("div",{className:"prose prose-sm max-w-none whitespace-pre-wrap text-slate-700",children:y})})]})}),(0,t.jsx)("div",{className:"min-h-[200px]",children:(0,t.jsxs)(h.Zp,{className:"flex h-full flex-col",children:[(0,t.jsxs)(h.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"3. Supporting Image References"}),(0,t.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:()=>E&&k(b(E)),children:[(0,t.jsx)(p,{className:"mr-1 h-4 w-4"}),"Regenerate"]})]}),(0,t.jsx)(h.Wu,{children:(0,t.jsx)("ul",{className:"space-y-2 text-sm text-slate-700",children:C.map((e,s)=>(0,t.jsx)("li",{className:"rounded bg-slate-50 p-2",children:e},s))})})]})})]}),(w||y||C.length>0)&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(d.$,{onClick:Z,disabled:R,children:[(0,t.jsx)(f,{className:"mr-2 h-4 w-4"}),R?"Saved":"Save Lesson Plan"]})}),!i&&(0,t.jsx)("p",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 p-8 text-center text-slate-500",children:"Select a subject, chapter, and lesson to generate a lesson plan."})]})}async function w(e){let[s,a,t,l]=await Promise.all([fetch("/api/classes"),fetch("/api/subjects"),fetch("/api/chapters"),fetch("/api/lessons")]),{classSections:n}=await s.json(),{subjects:r}=await a.json(),{chapters:i}=await t.json(),{lessons:c}=await l.json();return{classSection:(null!=n?n:[]).find(s=>s.id===e),subjects:null!=r?r:[],chapters:null!=i?i:[],lessons:null!=c?c:[]}}function N(){let e=(0,l.useParams)();(0,l.useRouter)();let s=e.classSectionId;(0,c.jE)();let{data:a,isLoading:n}=(0,o.I)({queryKey:["class",s],queryFn:()=>w(s),enabled:!!s});if(n||!a)return(0,t.jsx)("div",{className:"p-6",children:"Loading..."});let{classSection:m,subjects:x,chapters:p,lessons:f}=a;if(!m)return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("p",{children:"Class not found"}),(0,t.jsx)(r(),{href:"/teacher/classes",className:"text-indigo-600 hover:underline",children:"Back to classes"})]});let j=x.filter(e=>m.subjectIds.includes(e.id));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(d.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,t.jsx)(r(),{href:"/teacher/classes",children:(0,t.jsx)(i.A,{className:"h-5 w-5"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold",children:["Grade ",m.grade," - Section ",m.sectionName]}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:j.map(e=>e.name).join(", ")})]})]}),(0,t.jsxs)(u.tU,{defaultValue:"lesson-plan",children:[(0,t.jsxs)(u.j7,{className:"grid w-full max-w-md grid-cols-2",children:[(0,t.jsx)(u.Xi,{value:"lesson-plan",children:"Lesson Plan Generator"}),(0,t.jsx)(u.Xi,{value:"slides",children:"Slides Generator"})]}),(0,t.jsx)(u.av,{value:"lesson-plan",className:"mt-6",children:(0,t.jsx)(g,{classSectionId:s,classSection:m,subjects:j,chapters:p,lessons:f})}),(0,t.jsx)(u.av,{value:"slides",className:"mt-6",children:(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsx)(h.ZB,{children:"Slides Generator"})}),(0,t.jsx)(h.Wu,{children:(0,t.jsx)("p",{className:"text-slate-500",children:"Coming soon. Generate presentation slides from your lesson plan."})})]})})]})]})}},20063:(e,s,a)=>{"use strict";var t=a(47260);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},25016:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var t=a(2821),l=a(75889);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,t.$)(s))}},83209:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>r,aR:()=>i,wL:()=>h});var t=a(95155),l=a(12115),n=a(25016);let r=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border border-slate-200/80 bg-white text-slate-950 shadow-sm shadow-slate-200/50 transition-all duration-200","hover:shadow-md hover:shadow-slate-200/60 hover:border-slate-200",a),...l})});r.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6 pb-4",a),...l})});i.displayName="CardHeader";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight text-slate-900",a),...l})});c.displayName="CardTitle";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-slate-500",a),...l})});o.displayName="CardDescription";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...l})});d.displayName="CardContent";let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...l})});h.displayName="CardFooter"},85717:(e,s,a)=>{Promise.resolve().then(a.bind(a,16730))},90368:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},90923:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>o,av:()=>d,j7:()=>c,tU:()=>i});var t=a(95155),l=a(12115),n=a(25667),r=a(25016);let i=n.bL,c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.B8,{ref:s,className:(0,r.cn)("inline-flex h-11 items-center justify-center rounded-xl bg-slate-100/80 p-1.5",a),...l})});c.displayName=n.B8.displayName;let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.l9,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm",a),...l})});o.displayName=n.l9.displayName;let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.UC,{ref:s,className:(0,r.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2",a),...l})});d.displayName=n.UC.displayName},97003:(e,s,a)=>{"use strict";a.d(s,{$:()=>o});var t=a(95155),l=a(12115),n=a(32467),r=a(83101),i=a(25016);let c=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700 hover:shadow-md",destructive:"bg-red-500 text-white shadow-sm hover:bg-red-600",outline:"border-2 border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/50",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-indigo-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-6",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:o=!1,...d}=e,h=o?n.DX:"button";return(0,t.jsx)(h,{className:(0,i.cn)(c({variant:l,size:r,className:a})),ref:s,...d})});o.displayName="Button"}},e=>{e.O(0,[2619,5707,1910,6743,2454,5667,8441,1255,7358],()=>e(e.s=85717)),_N_E=e.O()}]);