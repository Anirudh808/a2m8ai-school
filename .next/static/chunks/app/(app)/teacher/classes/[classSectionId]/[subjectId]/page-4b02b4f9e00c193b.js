(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7094],{7220:(e,s,t)=>{"use strict";t.d(s,{SQ:()=>c,_2:()=>o,rI:()=>i,ty:()=>d});var a=t(95155),l=t(12115),r=t(37738),n=t(25016);let i=r.bL,d=r.l9,c=l.forwardRef((e,s)=>{let{className:t,sideOffset:l=4,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{ref:s,sideOffset:l,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-slate-200/80 bg-white p-1.5 text-slate-950 shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});c.displayName=r.UC.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.q7,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l})});o.displayName=r.q7.displayName},14824:(e,s,t)=>{"use strict";t.d(s,{KA:()=>r});var a=t(75106);let l={users:[...a.HZ],school:{...a.X$},classSections:[...a.Sm],subjects:[...a.u0],chapters:[...a.l1],lessons:[...a.Yq],assignments:[...a.dS],submissions:[...a.il],quizzes:[...a.O5],attendanceSessions:[...a.M6],announcements:[...a.hh],messageThreads:[...a.m$],liveSessions:[],savedLessonPlans:[],schedules:[...a.Hj],materials:[...a.VY]};function r(){return l}},33789:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var a=t(95155),l=t(12115),r=t(25016);let n=l.forwardRef((e,s)=>{let{className:t,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,r.cn)("flex h-11 w-full rounded-lg border-2 border-slate-200 bg-white px-4 py-2 text-sm transition-colors placeholder:text-slate-400","focus-visible:outline-none focus-visible:border-indigo-400 focus-visible:ring-2 focus-visible:ring-indigo-500/20","disabled:cursor-not-allowed disabled:opacity-50","file:border-0 file:bg-transparent file:text-sm file:font-medium",t),ref:s,...n})});n.displayName="Input"},47507:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>m});var a=t(95155),l=t(12115),r=t(48786),n=t(24033),i=t(12108),d=t(5917),c=t(25016);let o=r.bL;r.YJ;let m=r.WT,x=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(r.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[l,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let h=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let u=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=r.wn.displayName;let p=l.forwardRef((e,s)=>{let{className:t,children:l,position:n="popper",...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(u,{})]})})});p.displayName=r.UC.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...l})}).displayName=r.JU.displayName;let f=l.forwardRef((e,s)=>{let{className:t,children:l,...n}=e;return(0,a.jsxs)(r.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(r.p4,{children:l})]})});f.displayName=r.q7.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...l})}).displayName=r.wv.displayName},54679:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>d,Es:()=>x,L3:()=>o,c7:()=>c,lG:()=>i,rr:()=>m});var a=t(95155),l=t(12115),r=t(93409),n=t(25016);let i=r.bL;r.l9;let d=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(r.ZL,{children:[(0,a.jsx)(r.hJ,{className:"fixed inset-0 z-50 bg-black/50"}),(0,a.jsx)(r.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] rounded-lg border bg-white p-6 shadow-lg",t),...i,children:l})]})});d.displayName=r.UC.displayName;let c=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("mb-4",s),...t})},o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold",t),...l})});o.displayName=r.hE.displayName;let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.VY,{ref:s,className:(0,n.cn)("text-sm text-slate-500",t),...l})});m.displayName=r.VY.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};x.displayName="DialogFooter"},67812:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(95155);t(12115);var l=t(83101),r=t(25016);let n=(0,l.F)("inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-slate-900 text-white",secondary:"bg-slate-100 text-slate-700",destructive:"bg-red-100 text-red-700",outline:"border-2 border-slate-200 text-slate-700",success:"bg-emerald-100 text-emerald-700"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{className:(0,r.cn)(n({variant:t}),s),...l})}},68122:(e,s,t)=>{"use strict";t.d(s,{E:()=>r});var a=t(95155),l=t(25016);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...t})}},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>m});var a=t(95155),l=t(12115),r=t(25016);let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border border-slate-200/80 bg-white text-slate-950 shadow-sm shadow-slate-200/50 transition-all duration-200","hover:shadow-md hover:shadow-slate-200/60 hover:border-slate-200",t),...l})});n.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6 pb-4",t),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight text-slate-900",t),...l})});d.displayName="CardTitle";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-slate-500",t),...l})});c.displayName="CardDescription";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...l})});o.displayName="CardContent";let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...l})});m.displayName="CardFooter"},85226:(e,s,t)=>{Promise.resolve().then(t.bind(t,99365))},90235:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var a=t(95155),l=t(12115),r=t(32894),n=t(83101),i=t(25016);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.b,{ref:s,className:(0,i.cn)(d(),t),...l})});c.displayName=r.b.displayName},90923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>i});var a=t(95155),l=t(12115),r=t(25667),n=t(25016);let i=r.bL,d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.B8,{ref:s,className:(0,n.cn)("inline-flex h-11 items-center justify-center rounded-xl bg-slate-100/80 p-1.5",t),...l})});d.displayName=r.B8.displayName;let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm",t),...l})});c.displayName=r.l9.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2",t),...l})});o.displayName=r.UC.displayName},99365:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eD});var a=t(95155),l=t(22454),r=t(20063),n=t(52619),i=t.n(n),d=t(90923),c=t(97003),o=t(68122),m=t(27937),x=t(39867),h=t(15870),u=t(44309),p=t(85921),f=t(83209),j=t(67812),b=t(26983),g=t(36168),v=t(42516),N=t(91169),w=t(7013),y=t(67840),A=t(17666),k=t(50906),C=t(52056);function S(e){let{classSectionId:s,subjectId:t}=e,{data:r,isLoading:n,error:i}=(0,l.I)({queryKey:["class-tabs-overview",s,t],queryFn:async()=>{let e=await fetch("/api/teacher/classes/".concat(s,"/").concat(t,"/tabs/overview"));if(!e.ok)throw Error("Failed to fetch");return e.json()}});return n?(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mt-6",children:[(0,a.jsx)(o.E,{className:"h-[200px] w-full rounded-xl"}),(0,a.jsx)(o.E,{className:"h-[200px] w-full rounded-xl"}),(0,a.jsx)(o.E,{className:"h-[200px] w-full rounded-xl"}),(0,a.jsx)(o.E,{className:"h-[300px] w-full rounded-xl md:col-span-2"}),(0,a.jsx)(o.E,{className:"h-[300px] w-full rounded-xl"})]}):i||!r?(0,a.jsx)("div",{className:"p-8 text-center text-red-500 mt-6 bg-red-50 rounded-xl border border-red-200",children:"Failed to load overview data."}):(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mt-6",children:[(0,a.jsxs)(f.Zp,{className:"bg-gradient-to-br from-indigo-500 to-violet-600 text-white border-none shadow-md",children:[(0,a.jsx)(f.aR,{className:"pb-2",children:(0,a.jsxs)(f.ZB,{className:"text-indigo-50 flex items-center justify-between text-base font-medium",children:["Today's Plan",(0,a.jsx)(b.A,{className:"h-4 w-4 text-indigo-200"})]})}),(0,a.jsxs)(f.Wu,{children:[(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold",children:r.todayPlan.lessonTitle}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-2 text-indigo-100 text-sm",children:[(0,a.jsx)("span",{children:r.todayPlan.time}),(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-indigo-300"}),(0,a.jsx)("span",{children:r.todayPlan.type})]}),(0,a.jsxs)(c.$,{className:"w-full mt-6 bg-white text-indigo-600 hover:bg-indigo-50 font-semibold",variant:"secondary",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"})," Start Session"]})]})]}),(0,a.jsxs)(f.Zp,{className:"shadow-sm border-slate-200",children:[(0,a.jsx)(f.aR,{className:"pb-2",children:(0,a.jsxs)(f.ZB,{className:"text-slate-500 flex items-center justify-between text-base font-medium",children:["Homework Pipeline",(0,a.jsx)(v.A,{className:"h-4 w-4 text-slate-400"})]})}),(0,a.jsxs)(f.Wu,{children:[(0,a.jsxs)("div",{className:"mt-2 flex items-baseline gap-2",children:[(0,a.jsx)("span",{className:"text-4xl font-bold text-amber-600",children:r.pipeline.pending}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-500",children:"To Grade"})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-emerald-600 flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Reviewed"]}),(0,a.jsx)("span",{className:"font-semibold",children:r.pipeline.reviewed})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-rose-600 flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-rose-500"})," Late/Missing"]}),(0,a.jsx)("span",{className:"font-semibold",children:r.pipeline.late})]})]})]})]}),(0,a.jsxs)(f.Zp,{className:"shadow-sm border-slate-200",children:[(0,a.jsx)(f.aR,{className:"pb-2",children:(0,a.jsxs)(f.ZB,{className:"text-slate-500 flex items-center justify-between text-base font-medium",children:["Attendance (14d)",(0,a.jsx)(N.A,{className:"h-4 w-4 text-slate-400"})]})}),(0,a.jsxs)(f.Wu,{children:[(0,a.jsxs)("div",{className:"mt-2 flex items-baseline gap-2",children:[(0,a.jsxs)("span",{className:"text-4xl font-bold text-slate-900",children:[r.attendance.percentage,"%"]}),"up"===r.attendance.trend?(0,a.jsxs)("span",{className:"flex items-center text-emerald-600 text-sm font-medium bg-emerald-50 px-1.5 py-0.5 rounded",children:[(0,a.jsx)(w.A,{className:"h-3.5 w-3.5 mr-0.5"})," 2%"]}):(0,a.jsxs)("span",{className:"flex items-center text-rose-600 text-sm font-medium bg-rose-50 px-1.5 py-0.5 rounded",children:[(0,a.jsx)(y.A,{className:"h-3.5 w-3.5 mr-0.5"})," 1%"]})]}),(0,a.jsx)("div",{className:"mt-6 flex h-[40px] items-end justify-between gap-1",children:r.attendance.last14Days.map((e,s)=>(0,a.jsx)("div",{className:"w-full bg-indigo-100 rounded-t-sm",style:{height:"".concat(e.present/25*100,"%")}},s))})]})]}),(0,a.jsxs)(f.Zp,{className:"shadow-sm border-slate-200 md:col-span-2 lg:col-span-2",children:[(0,a.jsx)(f.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-5 w-5 text-amber-500"})," AI Insights: Concept Gaps"]}),(0,a.jsx)(f.BT,{children:"Concepts where students are struggling based on recent quiz scores."})]}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",className:"hidden sm:flex",children:"Generate Remedial Plan"})]})}),(0,a.jsx)(f.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:r.weakConcepts.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-100 bg-slate-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 text-rose-500"}),(0,a.jsx)("span",{className:"font-medium text-slate-800",children:e.concept})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm font-semibold text-rose-600",children:[e.score,"% avg score"]}),(0,a.jsx)(c.$,{variant:"ghost",size:"sm",className:"text-indigo-600 h-8",children:"Review"})]})]},s))})})]}),(0,a.jsxs)(f.Zp,{className:"shadow-sm border-slate-200 border-t-4 border-t-rose-500",children:[(0,a.jsx)(f.aR,{children:(0,a.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-5 w-5 text-rose-500"})," At-Risk Students"]})}),(0,a.jsx)(f.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:r.atRiskStudents.map((e,s)=>(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-800",children:e.name}),(0,a.jsx)(j.E,{variant:"high"===e.severity?"destructive":"secondary",children:e.severity})]}),(0,a.jsx)("span",{className:"text-sm text-slate-500",children:e.reason}),s<r.atRiskStudents.length-1&&(0,a.jsx)("div",{className:"w-full h-px bg-slate-100 mt-2"})]},e.id))})})]})]})}var I=t(12115),E=t(30563),R=t(92273),T=t(25016);let P=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,T.cn)("w-full caption-bottom text-sm",t),...l})})});P.displayName="Table";let F=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("thead",{ref:s,className:(0,T.cn)("[&_tr]:border-b",t),...l})});F.displayName="TableHeader";let q=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,T.cn)("[&_tr:last-child]:border-0",t),...l})});q.displayName="TableBody",I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,T.cn)("bg-slate-900 font-medium text-slate-50 dark:bg-slate-50 dark:text-slate-900",t),...l})}).displayName="TableFooter";let M=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tr",{ref:s,className:(0,T.cn)("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",t),...l})});M.displayName="TableRow";let z=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("th",{ref:s,className:(0,T.cn)("h-12 px-4 text-left align-middle font-medium text-slate-500 [&:has([role=checkbox])]:pr-0 dark:text-slate-400",t),...l})});z.displayName="TableHead";let L=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("td",{ref:s,className:(0,T.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l})});L.displayName="TableCell",I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("caption",{ref:s,className:(0,T.cn)("mt-4 text-sm text-slate-500 dark:text-slate-400",t),...l})}).displayName="TableCaption";var O=t(63366);let $=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(O.bL,{ref:s,className:(0,T.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...l})});$.displayName=O.bL.displayName,I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(O._V,{ref:s,className:(0,T.cn)("aspect-square h-full w-full",t),...l})}).displayName=O._V.displayName;let D=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(O.H4,{ref:s,className:(0,T.cn)("flex h-full w-full items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",t),...l})});D.displayName=O.H4.displayName;var G=t(37586),J=t(37772),W=t(46826);function U(e){var s;let{classSectionId:t,subjectId:r}=e,[n,i]=(0,I.useState)([]),{data:d,isLoading:m,error:x}=(0,l.I)({queryKey:["class-tabs-roster",t,r],queryFn:async()=>{let e=await fetch("/api/teacher/classes/".concat(t,"/").concat(r,"/tabs/roster"));if(!e.ok)throw Error("Failed to fetch");return e.json()}}),h=[{accessorKey:"name",header:"Student",cell:e=>{let{row:s}=e,t=s.original,l=t.name.split(" ").map(e=>e[0]).join("");return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)($,{className:"h-9 w-9 border border-slate-200",children:(0,a.jsx)(D,{className:"bg-indigo-50 text-indigo-700 font-semibold text-xs",children:l})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-slate-900",children:t.name}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:t.rollNo})]})]})}},{accessorKey:"attendancePercent",header:"Attendance",cell:e=>{let{row:s}=e,t=s.original.attendancePercent;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t>=80?"bg-emerald-500":t>=60?"bg-amber-500":"bg-rose-500")}),(0,a.jsxs)("span",{className:"font-medium text-slate-700",children:[t,"%"]})]})}},{accessorKey:"avgScore",header:"Avg Score",cell:e=>{let{row:s}=e,t=s.original.avgScore;return null===t?(0,a.jsx)("span",{className:"text-slate-400 text-sm",children:"No data"}):(0,a.jsxs)("span",{className:"font-medium text-slate-700",children:[t,"%"]})}},{id:"parents",header:"Parents",cell:e=>{let{row:s}=e,t=s.original.parents;return t&&0!==t.length?(0,a.jsx)("div",{className:"flex gap-1 flex-wrap",children:t.map(e=>(0,a.jsx)(j.E,{variant:"outline",className:"text-xs font-normal text-slate-600 bg-slate-50",children:e.name},e.id))}):(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"None linked"})}},{id:"actions",header:"",cell:e=>{let{row:s}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-indigo-600",children:(0,a.jsx)(G.A,{className:"h-4 w-4"})}),(0,a.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-indigo-600",children:(0,a.jsx)(J.A,{className:"h-4 w-4"})})]})}}],u=(0,E.N4)({data:(null==d?void 0:d.roster)||[],columns:h,getCoreRowModel:(0,R.HT)(),onSortingChange:i,getSortedRowModel:(0,R.h5)(),state:{sorting:n}});return m?(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,a.jsx)(o.E,{className:"h-10 w-full rounded-md"}),(0,a.jsx)(o.E,{className:"h-[400px] w-full rounded-md"})]}):x||!d?(0,a.jsx)("div",{className:"mt-6 p-8 text-center text-red-500 bg-red-50 rounded-xl border border-red-200",children:"Failed to load roster data."}):(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center p-2 bg-indigo-100 text-indigo-700 rounded-lg",children:(0,a.jsx)(N.A,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Class Roster"}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:[d.roster.length," students enrolled"]})]})]}),(0,a.jsxs)(c.$,{variant:"outline",className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50",children:[(0,a.jsx)(W.A,{className:"mr-2 w-4 h-4"})," Create Learning Groups"]})]}),(0,a.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:(0,a.jsxs)(P,{children:[(0,a.jsx)(F,{className:"bg-slate-50",children:u.getHeaderGroups().map(e=>(0,a.jsx)(M,{children:e.headers.map(e=>(0,a.jsx)(z,{className:"text-slate-600 font-semibold h-11",children:e.isPlaceholder?null:(0,E.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(q,{children:(null==(s=u.getRowModel().rows)?void 0:s.length)?u.getRowModel().rows.map(e=>(0,a.jsx)(M,{"data-state":e.getIsSelected()&&"selected",className:"hover:bg-slate-50/50",children:e.getVisibleCells().map(e=>(0,a.jsx)(L,{className:"py-3",children:(0,E.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(M,{children:(0,a.jsx)(L,{colSpan:h.length,className:"h-24 text-center text-slate-500",children:"No students found."})})})]})})]})}var Z=t(99776),B=t(80549),H=t(80183),K=t(26467),V=t(24986),Q=t(6191),_=t(16485),X=t(11010),Y=t(71360);function ee(e){let{classSectionId:s,subjectId:t}=e,r=(0,Z.jE)(),n=["class-schedule",s,t],{data:i,isLoading:d,error:m}=(0,l.I)({queryKey:n,queryFn:async()=>{let e=await fetch("/api/classes/".concat(s,"/").concat(t,"/schedule"));if(!e.ok)throw Error("Failed to fetch schedule");return e.json()}}),x=(0,B.n)({mutationFn:async e=>{if(!(await fetch("/api/classes/".concat(s,"/").concat(t,"/schedule/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete")},onSuccess:()=>r.invalidateQueries({queryKey:n})}),h=(0,B.n)({mutationFn:async()=>{if(!(await fetch("/api/classes/".concat(s,"/").concat(t,"/schedule"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:new Date().toISOString().slice(0,10),startTime:"09:00",endTime:"10:00",topic:"New Scheduled Class",type:"Regular",status:"Planned"})})).ok)throw Error("Failed to add")},onSuccess:()=>r.invalidateQueries({queryKey:n})}),u=(0,B.n)({mutationFn:async e=>{let{id:a,status:l}=e;if(!(await fetch("/api/classes/".concat(s,"/").concat(t,"/schedule/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:l})})).ok)throw Error("Failed to update status")},onSuccess:()=>r.invalidateQueries({queryKey:n})});if(d)return(0,a.jsxs)("div",{className:"mt-6 space-y-4 p-4 bg-white rounded-xl border border-slate-200",children:[(0,a.jsx)(o.E,{className:"h-10 w-48"}),(0,a.jsx)(o.E,{className:"h-24 w-full"}),(0,a.jsx)(o.E,{className:"h-24 w-full"})]});if(m)return(0,a.jsx)("div",{className:"mt-6 p-4 bg-red-50 text-red-600 rounded-xl",children:"Error loading schedule."});let p=[...i||[]].sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime());return(0,a.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Class Schedule"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Manage your upcoming and past sessions."})]}),(0,a.jsxs)(c.$,{onClick:()=>h.mutate(),className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(Q.A,{className:"w-4 h-4 mr-2"})," Add Session"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:0===p.length?(0,a.jsx)("div",{className:"text-center p-8 bg-white rounded-xl border border-slate-200 text-slate-500",children:"No sessions scheduled yet."}):p.map(e=>{(0,H.R)((0,K.H)(e.date));let s="Completed"===e.status;return(0,a.jsxs)("div",{className:"p-4 rounded-xl border flex flex-col md:flex-row md:items-center justify-between gap-4 transition-colors ".concat(s?"bg-slate-50 border-slate-200 opacity-80":"bg-white border-slate-200 hover:border-indigo-300"),children:[(0,a.jsxs)("div",{className:"flex items-start md:items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg shrink-0 ".concat(s?"bg-slate-200 text-slate-500":"bg-indigo-100 text-indigo-600"),children:(0,a.jsx)(_.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-semibold ".concat(s?"text-slate-600 line-through decoration-slate-400":"text-slate-900"),children:e.topic}),(0,a.jsx)(j.E,{variant:"outline",className:"Test"===e.type?"text-rose-600 border-rose-200 bg-rose-50":"text-slate-500",children:e.type})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(_.A,{className:"w-3.5 h-3.5"})," ",(0,V.GP)((0,K.H)(e.date),"MMM d, yyyy")]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.A,{className:"w-3.5 h-3.5"})," ",e.startTime," - ",e.endTime]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>u.mutate({id:e.id,status:s?"Planned":"Completed"}),className:s?"":"text-emerald-600 hover:text-emerald-700 border-emerald-200 hover:bg-emerald-50",children:s?"Mark Planned":"Mark Completed"}),(0,a.jsx)(c.$,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-indigo-600",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>x.mutate(e.id),className:"text-slate-400 hover:text-rose-600",children:(0,a.jsx)(Y.A,{className:"w-4 h-4"})})]})]},e.id)})})]})}var es=t(47937),et=t(12108),ea=t(24033),el=t(61362),er=t(99051),en=t(95740);function ei(e){let{classSectionId:s,subjectId:t}=e,r=(0,Z.jE)(),n=["class-lesson-plan",s,t],{data:i,isLoading:d,error:m}=(0,l.I)({queryKey:n,queryFn:async()=>{let e=await fetch("/api/classes/".concat(s,"/").concat(t,"/lesson-plan"));if(!e.ok)throw Error("Failed to fetch lesson plan");return e.json()}}),x=(0,B.n)({mutationFn:async e=>{let{lessonId:a,completed:l}=e;if(!(await fetch("/api/classes/".concat(s,"/").concat(t,"/lesson-plan/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:l})})).ok)throw Error("Failed to update lesson completion")},onSuccess:()=>r.invalidateQueries({queryKey:n})}),h=(0,B.n)({mutationFn:async e=>{let{lessonId:a}=e;if(!(await fetch("/api/classes/".concat(s,"/").concat(t,"/lesson-plan/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({aiGeneratedSummary:"This is an AI-generated summary covering key concepts like variables and basic algebraic expressions. Students should understand substitution by the end."})})).ok)throw Error("Failed to generate summary")},onSuccess:()=>r.invalidateQueries({queryKey:n})}),[u,p]=(0,I.useState)({});return d?(0,a.jsxs)("div",{className:"mt-6 space-y-4 p-4 bg-white rounded-xl border border-slate-200",children:[(0,a.jsx)(o.E,{className:"h-12 w-full"}),(0,a.jsx)(o.E,{className:"h-24 w-full"}),(0,a.jsx)(o.E,{className:"h-12 w-full"})]}):m?(0,a.jsx)("div",{className:"mt-6 p-4 bg-red-50 text-red-600 rounded-xl",children:"Error loading lesson plan."}):(0,a.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Syllabus & Lesson Plan"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Track syllabus coverage and use AI to outline lessons."})]})}),(0,a.jsx)("div",{className:"space-y-4",children:null==i?void 0:i.map(e=>{let s=!1!==u[e.chapterId],t=e.lessons.length,l=e.lessons.filter(e=>e.completed).length,r=0===t?0:Math.round(l/t*100);return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-slate-50",onClick:()=>{var s;return s=e.chapterId,void p(e=>({...e,[s]:!e[s]}))},children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-50 text-indigo-700 rounded-lg",children:(0,a.jsx)(es.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900",children:e.chapterTitle}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:[t," Lessons"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-32 bg-slate-100 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:"".concat(r,"%")}})}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-slate-600",children:[r,"%"]})]}),(0,a.jsx)(c.$,{variant:"ghost",size:"icon",className:"shrink-0 text-slate-400",children:s?(0,a.jsx)(et.A,{className:"w-5 h-5"}):(0,a.jsx)(ea.A,{className:"w-5 h-5"})})]})]}),s&&(0,a.jsx)("div",{className:"border-t border-slate-100 bg-slate-50/50 p-4 space-y-3",children:0===e.lessons.length?(0,a.jsx)("div",{className:"text-sm text-slate-500 text-center py-4",children:"No lessons added to this chapter."}):e.lessons.map(e=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-slate-200 flex flex-col md:flex-row gap-4 items-start md:items-center justify-between hover:border-indigo-200 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,a.jsx)("button",{onClick:()=>x.mutate({lessonId:e.id,completed:!e.completed}),className:"mt-1 shrink-0 text-slate-300 hover:text-indigo-600 transition-colors focus:outline-none",children:e.completed?(0,a.jsx)(el.A,{className:"w-5 h-5 text-emerald-500"}):(0,a.jsx)(er.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium ".concat(e.completed?"text-slate-600 line-through decoration-slate-300":"text-slate-900"),children:e.title}),e.objectives.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.objectives.map((e,s)=>(0,a.jsx)("span",{className:"text-[10px] uppercase font-semibold tracking-wider px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:e},s))}),e.aiGeneratedSummary&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-indigo-50/50 border border-indigo-100 rounded-md text-sm text-indigo-900 leading-relaxed shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 font-semibold text-indigo-700 mb-1 text-xs uppercase tracking-wide",children:[(0,a.jsx)(en.A,{className:"w-3.5 h-3.5"})," AI Summary"]}),e.aiGeneratedSummary]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 self-end md:self-auto shrink-0",children:(0,a.jsx)(c.$,{variant:"outline",size:"sm",className:"text-indigo-600 hover:bg-indigo-50 hover:text-indigo-700 bg-white shadow-sm",disabled:h.isPending,onClick:()=>h.mutate({lessonId:e.id}),children:h.isPending?"Generating...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(en.A,{className:"w-3.5 h-3.5 mr-1.5"})," Outline"]})})})]},e.id))})]},e.chapterId)})})]})}var ed=t(89715),ec=t(92301),eo=t(24722),em=t(4399),ex=t(21786),eh=t(77801);function eu(e){let{classSectionId:s,subjectId:t}=e,r=(0,Z.jE)(),n=["class-materials",s,t],{data:i,isLoading:d,error:m}=(0,l.I)({queryKey:n,queryFn:async()=>{let e=await fetch("/api/classes/".concat(s,"/").concat(t,"/materials"));if(!e.ok)throw Error("Failed to fetch materials");return e.json()}}),x=(0,B.n)({mutationFn:async e=>{if(!(await fetch("/api/classes/".concat(s,"/").concat(t,"/materials/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete")},onSuccess:()=>r.invalidateQueries({queryKey:n})}),h=(0,B.n)({mutationFn:async()=>{if(!(await fetch("/api/classes/".concat(s,"/").concat(t,"/materials"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"New Lecture Notes",type:"PDF",attachedTo:"Subject",visibility:"Students"})})).ok)throw Error("Failed to upload")},onSuccess:()=>r.invalidateQueries({queryKey:n})});return d?(0,a.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>(0,a.jsx)(o.E,{className:"h-32 w-full rounded-xl"},e))}):m?(0,a.jsx)("div",{className:"mt-6 p-4 bg-red-50 text-red-600 rounded-xl",children:"Error loading materials."}):(0,a.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Class Materials"}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:[(null==i?void 0:i.length)||0," files uploaded"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(c.$,{variant:"outline",className:"hidden sm:flex text-indigo-600 border-indigo-200",children:[(0,a.jsx)(en.A,{className:"w-4 h-4 mr-2"})," AI Generate Test"]}),(0,a.jsxs)(c.$,{onClick:()=>h.mutate(),className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(ex.A,{className:"w-4 h-4 mr-2"})," Upload"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(null==i?void 0:i.length)===0?(0,a.jsx)("div",{className:"col-span-full text-center p-8 bg-white rounded-xl border border-slate-200 text-slate-500",children:"No materials found. Upload syllabus, past papers or worksheets here."}):null==i?void 0:i.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-shadow group relative flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-slate-50 rounded-xl",children:(e=>{switch(e){case"PDF":return(0,a.jsx)(ed.A,{className:"w-8 h-8 text-rose-500"});case"Video":return(0,a.jsx)(ec.A,{className:"w-8 h-8 text-indigo-500"});case"PPT":return(0,a.jsx)(eo.A,{className:"w-8 h-8 text-amber-500"});case"Worksheet":return(0,a.jsx)(em.A,{className:"w-8 h-8 text-emerald-500"});default:return(0,a.jsx)(ed.A,{className:"w-8 h-8 text-slate-500"})}})(e.type)}),"Teacher Only"===e.visibility&&(0,a.jsxs)(j.E,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200 font-medium",children:[(0,a.jsx)(eh.A,{className:"w-3 h-3 mr-1"})," Private"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900 line-clamp-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-500",children:[(0,a.jsx)("span",{className:"font-medium",children:e.type}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)("span",{children:(0,V.GP)((0,K.H)(e.uploadedAt),"MMM d, yyyy")})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-between border-t border-slate-100 pt-4",children:[(0,a.jsx)(j.E,{variant:"secondary",className:"bg-slate-100 text-slate-600 hover:bg-slate-200 font-normal",children:"Lesson"===e.attachedTo?"Lesson Resource":"General"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-indigo-600 hover:bg-indigo-50",children:(0,a.jsx)(en.A,{className:"w-4 h-4"})}),(0,a.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>x.mutate(e.id),className:"h-8 w-8 text-rose-600 hover:bg-rose-50",children:(0,a.jsx)(Y.A,{className:"w-4 h-4"})})]})]})]},e.id))})]})}var ep=t(54679),ef=t(33789),ej=t(90235);let eb=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("textarea",{className:(0,T.cn)("flex min-h-[80px] w-full rounded-lg border-2 border-slate-200 bg-white px-4 py-2 text-sm transition-colors placeholder:text-slate-400","focus-visible:outline-none focus-visible:border-indigo-400 focus-visible:ring-2 focus-visible:ring-indigo-500/20","disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});eb.displayName="Textarea";var eg=t(38162),ev=t(5917);let eN=I.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(eg.bL,{ref:s,className:(0,T.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-slate-200 border-slate-900 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-slate-900 data-[state=checked]:text-slate-50 dark:border-slate-800 dark:border-slate-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=checked]:bg-slate-50 dark:data-[state=checked]:text-slate-900",t),...l,children:(0,a.jsx)(eg.C1,{className:(0,T.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(ev.A,{className:"h-4 w-4"})})})});eN.displayName=eg.bL.displayName;var ew=t(47507),ey=t(7220),eA=t(63581),ek=t(35299),eC=t(78192);function eS(e){let{classSectionId:s,subjectId:t}=e,r=(0,Z.jE)(),[n,i]=(0,I.useState)("All"),[d,m]=(0,I.useState)(!1),[x,h]=(0,I.useState)(!1),{data:u,isLoading:p}=(0,l.I)({queryKey:["teacher-assignments",s,t],queryFn:async()=>{let e=await fetch("/api/classes/".concat(s,"/").concat(t,"/assignments"));if(!e.ok)throw Error("Failed to fetch");return e.json()}}),f=(0,B.n)({mutationFn:async e=>(await fetch("/api/classes/".concat(s,"/").concat(t,"/assignments"),{method:"POST",body:JSON.stringify(e)})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["teacher-assignments"]}),m(!1)}}),b=(0,B.n)({mutationFn:async e=>(await fetch("/api/classes/".concat(s,"/").concat(t,"/assignments/ai-generate"),{method:"POST",body:JSON.stringify(e)})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["teacher-assignments"]}),h(!1)}});if(p)return(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsx)(o.E,{className:"h-10 w-[200px]"}),(0,a.jsx)(o.E,{className:"h-[400px] w-full"})]});let g=(null==u?void 0:u.filter(e=>"All"===n||e.type===n))||[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eA.A,{className:"h-4 w-4 text-slate-500"}),(0,a.jsxs)(ew.l6,{value:n,onValueChange:i,children:[(0,a.jsx)(ew.bq,{className:"w-[180px] bg-white",children:(0,a.jsx)(ew.yv,{placeholder:"Filter type"})}),(0,a.jsxs)(ew.gC,{children:[(0,a.jsx)(ew.eb,{value:"All",children:"All Assignments"}),(0,a.jsx)(ew.eb,{value:"Manual",children:"Manual"}),(0,a.jsx)(ew.eb,{value:"AI Generated",children:"AI Generated"})]})]})]}),(0,a.jsxs)(ey.rI,{children:[(0,a.jsx)(ey.ty,{asChild:!0,children:(0,a.jsxs)(c.$,{className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-sm font-medium",children:[(0,a.jsx)(Q.A,{className:"h-4 w-4 mr-2"}),"Create Assignment"]})}),(0,a.jsxs)(ey.SQ,{align:"end",className:"w-56",children:[(0,a.jsxs)(ey._2,{onClick:()=>m(!0),className:"cursor-pointer",children:[(0,a.jsx)(ed.A,{className:"h-4 w-4 mr-2 text-slate-500"}),(0,a.jsx)("span",{children:"Manual Entry"})]}),(0,a.jsxs)(ey._2,{onClick:()=>h(!0),className:"cursor-pointer text-indigo-600 focus:text-indigo-700 focus:bg-indigo-50",children:[(0,a.jsx)(en.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{className:"font-medium",children:"AI Generate"})]})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===g.length?(0,a.jsxs)("div",{className:"col-span-full p-12 text-center border-2 border-dashed border-slate-200 rounded-xl bg-slate-50",children:[(0,a.jsx)("div",{className:"mx-auto w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center mb-3",children:(0,a.jsx)(ed.A,{className:"h-6 w-6 text-slate-400"})}),(0,a.jsx)("h3",{className:"text-lg font-medium tracking-tight text-slate-900 mb-1",children:"No assignments found"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Create a new assignment to see it here."})]}):g.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-all flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"p-5 flex-grow",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-3",children:(0,a.jsxs)(j.E,{variant:"AI Generated"===e.type?"secondary":"outline",className:"AI Generated"===e.type?"bg-indigo-50 text-indigo-700 border-indigo-200 capitalize":"text-slate-500 capitalize",children:["AI Generated"===e.type&&(0,a.jsx)(en.A,{className:"w-3 h-3 mr-1 inline"}),e.format||e.type||"Manual"]})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 line-clamp-1 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-slate-500 line-clamp-2 mb-4 h-10",children:e.description||"No description provided."}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium mb-4",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 text-slate-400"}),"Due: ",(0,V.GP)((0,K.H)(e.dueDate),"MMM d, yyyy")]})]}),(0,a.jsxs)("div",{className:"px-5 py-4 bg-slate-50 border-t border-slate-100 grid grid-cols-3 gap-2 text-center mt-auto",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:e.stats.submitted+e.stats.graded+e.stats.late}),(0,a.jsxs)("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"w-3 h-3"})," In"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center border-l border-slate-200",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-amber-600",children:e.stats.pending}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"To Grade"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center border-l border-slate-200",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-emerald-600",children:e.stats.graded}),(0,a.jsxs)("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"w-3 h-3"})," Graded"]})]})]})]},e.id))}),(0,a.jsx)(eI,{open:d,onOpenChange:m,onSubmit:e=>f.mutate(e),isPending:f.isPending}),(0,a.jsx)(eE,{open:x,onOpenChange:h,onSubmit:e=>b.mutate(e),isPending:b.isPending,subjectId:t})]})}function eI(e){let{open:s,onOpenChange:t,onSubmit:l,isPending:r}=e,[n,i]=(0,I.useState)({title:"",description:"",dueDate:"",format:"Objective"});return(0,a.jsx)(ep.lG,{open:s,onOpenChange:t,children:(0,a.jsx)(ep.Cf,{className:"sm:max-w-[500px]",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(n)},children:[(0,a.jsxs)(ep.c7,{children:[(0,a.jsx)(ep.L3,{children:"Create Manual Assignment"}),(0,a.jsx)(ep.rr,{children:"Add a new assignment manually for your class."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(ef.p,{id:"title",required:!0,value:n.title,onChange:e=>i({...n,title:e.target.value}),placeholder:"e.g. Chapter 4 Exercises"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{htmlFor:"description",children:"Instructions"}),(0,a.jsx)(eb,{id:"description",value:n.description,onChange:e=>i({...n,description:e.target.value}),placeholder:"Enter instructions..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{htmlFor:"dueDate",children:"Due Date"}),(0,a.jsx)(ef.p,{id:"dueDate",type:"date",required:!0,value:n.dueDate,onChange:e=>i({...n,dueDate:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{children:"Format"}),(0,a.jsxs)(ew.l6,{value:n.format,onValueChange:e=>i({...n,format:e}),children:[(0,a.jsx)(ew.bq,{children:(0,a.jsx)(ew.yv,{})}),(0,a.jsxs)(ew.gC,{children:[(0,a.jsx)(ew.eb,{value:"Objective",children:"Objective"}),(0,a.jsx)(ew.eb,{value:"Subjective",children:"Subjective"}),(0,a.jsx)(ew.eb,{value:"Project",children:"Project"}),(0,a.jsx)(ew.eb,{value:"Worksheet",children:"Worksheet"})]})]})]})]})]}),(0,a.jsxs)(ep.Es,{children:[(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:"Cancel"}),(0,a.jsxs)(c.$,{type:"submit",disabled:r,children:[r&&(0,a.jsx)(ek.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})})})}function eE(e){var s,t;let{open:r,onOpenChange:n,onSubmit:i,isPending:d,subjectId:o}=e,[m,x]=(0,I.useState)({chapterId:"",lessonId:"",format:"Worksheet",difficulty:"Medium"}),[h,u]=(0,I.useState)("config"),[p,f]=(0,I.useState)([]),[j,b]=(0,I.useState)(new Set),[g,v]=(0,I.useState)(!1),{data:N}=(0,l.I)({queryKey:["chapters",o],queryFn:async()=>{let e=await fetch("/api/chapters?subjectId=".concat(o));return e.ok?e.json():{chapters:[]}}}),{data:w}=(0,l.I)({queryKey:["lessons",m.chapterId],queryFn:async()=>{if(!m.chapterId)return{lessons:[]};let e=await fetch("/api/lessons?chapterId=".concat(m.chapterId));return e.ok?e.json():{lessons:[]}},enabled:!!m.chapterId}),y=async e=>{e.preventDefault(),v(!0);try{let e=await fetch("/api/classes/dummy/dummy/assignments/ai-generate",{method:"POST",body:JSON.stringify({action:"preview",...m})}),s=await e.json();s.questions&&(f(s.questions),b(new Set(s.questions.map((e,s)=>s))),u("preview"))}catch(e){console.error("Failed to generate preview",e)}finally{v(!1)}};return(0,a.jsx)(ep.lG,{open:r,onOpenChange:n,children:(0,a.jsx)(ep.Cf,{className:"sm:max-w-[600px] border-indigo-100",children:(0,a.jsxs)("form",{children:[(0,a.jsxs)(ep.c7,{children:[(0,a.jsxs)(ep.L3,{className:"flex items-center gap-2 text-indigo-900 border-b border-indigo-50 pb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg text-indigo-600",children:(0,a.jsx)(eC.A,{className:"h-5 w-5"})}),"config"===h?"Generate with AI Co-Teacher":"Preview Assignment"]}),(0,a.jsx)(ep.rr,{className:"pt-2",children:"config"===h?"Select a chapter and lesson, and our AI will instantly generate an appropriate assignment or worksheet.":"Select the questions you want to include in this assignment."})]}),"config"===h?(0,a.jsxs)("div",{className:"grid gap-5 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{className:"font-semibold text-slate-700",children:"Chapter"}),(0,a.jsxs)(ew.l6,{value:m.chapterId,onValueChange:e=>x({...m,chapterId:e,lessonId:""}),children:[(0,a.jsx)(ew.bq,{children:(0,a.jsx)(ew.yv,{placeholder:"Select Chapter"})}),(0,a.jsx)(ew.gC,{children:null==N||null==(s=N.chapters)?void 0:s.map(e=>(0,a.jsx)(ew.eb,{value:e.id,children:e.title},e.id))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{className:"font-semibold text-slate-700",children:"Lesson"}),(0,a.jsxs)(ew.l6,{disabled:!m.chapterId,value:m.lessonId,onValueChange:e=>x({...m,lessonId:e}),children:[(0,a.jsx)(ew.bq,{children:(0,a.jsx)(ew.yv,{placeholder:"Select Lesson"})}),(0,a.jsx)(ew.gC,{children:null==w||null==(t=w.lessons)?void 0:t.map(e=>(0,a.jsx)(ew.eb,{value:e.id,children:e.title},e.id))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{className:"text-xs uppercase text-slate-500 font-bold tracking-wider",children:"Format"}),(0,a.jsxs)(ew.l6,{value:m.format,onValueChange:e=>x({...m,format:e}),children:[(0,a.jsx)(ew.bq,{className:"bg-white",children:(0,a.jsx)(ew.yv,{})}),(0,a.jsxs)(ew.gC,{children:[(0,a.jsx)(ew.eb,{value:"Worksheet",children:"Practice Worksheet"}),(0,a.jsx)(ew.eb,{value:"Objective",children:"Multiple Choice Quiz"}),(0,a.jsx)(ew.eb,{value:"Subjective",children:"Short Answer Test"}),(0,a.jsx)(ew.eb,{value:"Project",children:"Differentiated Project"})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ej.J,{className:"text-xs uppercase text-slate-500 font-bold tracking-wider",children:"Difficulty Level"}),(0,a.jsxs)(ew.l6,{value:m.difficulty,onValueChange:e=>x({...m,difficulty:e}),children:[(0,a.jsx)(ew.bq,{className:"bg-white",children:(0,a.jsx)(ew.yv,{})}),(0,a.jsxs)(ew.gC,{children:[(0,a.jsx)(ew.eb,{value:"Beginner",children:"Beginner"}),(0,a.jsx)(ew.eb,{value:"Medium",children:"Intermediate"}),(0,a.jsx)(ew.eb,{value:"Advanced",children:"Advanced (HOTS)"})]})]})]})]})]}):(0,a.jsx)("div",{className:"grid gap-4 py-4 max-h-[400px] overflow-y-auto pr-2",children:p.map((e,s)=>(0,a.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer",children:[(0,a.jsx)(eN,{checked:j.has(s),onCheckedChange:()=>(e=>{let s=new Set(j);s.has(e)?s.delete(e):s.add(e),b(s)})(s),className:"mt-1"}),(0,a.jsx)("div",{className:"text-sm font-medium text-slate-800 leading-relaxed",children:e})]},s))}),"config"===h?(0,a.jsxs)(ep.Es,{className:"border-t border-slate-100 pt-4",children:[(0,a.jsx)(c.$,{type:"button",variant:"ghost",onClick:()=>n(!1),disabled:g,children:"Cancel"}),(0,a.jsx)(c.$,{type:"button",onClick:y,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold",disabled:g||!m.chapterId||!m.lessonId,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ek.A,{className:"mr-2 h-4 w-4 animate-spin"})," Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(en.A,{className:"mr-2 h-4 w-4"})," Preview Questions"]})})]}):(0,a.jsxs)(ep.Es,{className:"border-t border-slate-100 pt-4 flex items-center justify-between sm:justify-between w-full",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-500",children:[j.size," of ",p.length," selected"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.$,{type:"button",variant:"ghost",onClick:()=>u("config"),disabled:d,children:"Back"}),(0,a.jsx)(c.$,{type:"button",onClick:()=>{let e=Array.from(j).sort((e,s)=>e-s).map(e=>"Q".concat(e+1,". ").concat(p[e])).join("\n\n");i({title:"AI ".concat(m.difficulty," ").concat(m.format),action:"submit",description:e,...m}),setTimeout(()=>{u("config"),x({chapterId:"",lessonId:"",format:"Worksheet",difficulty:"Medium"}),f([])},500)},className:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold",disabled:d||0===j.size,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ek.A,{className:"mr-2 h-4 w-4 animate-spin"})," Sending..."]}):"Send Assignment"})]})]})]})})})}var eR=t(42529),eT=t(78874),eP=t(14824);function eF(e){let{classSectionId:s,subjectId:t}=e,l=(0,eP.KA)(),r=l.classSections.find(e=>e.id===s),n=r?l.users.filter(e=>r.studentIds.includes(e.id)):[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold tracking-tight text-slate-900",children:"Attendance Register"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Track and manage student attendance for this class."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full",children:[(0,a.jsx)(eR.A,{className:"h-4 w-4"})," Present"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium text-rose-600 bg-rose-50 px-3 py-1 rounded-full",children:[(0,a.jsx)(eT.A,{className:"h-4 w-4"})," Absent"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium text-amber-600 bg-amber-50 px-3 py-1 rounded-full",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"})," Late"]})]})]}),(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsx)(f.ZB,{children:"Today's Roster"}),(0,a.jsx)(f.BT,{children:"Mark attendance for today's session."})]}),(0,a.jsx)(f.Wu,{children:(0,a.jsxs)("div",{className:"rounded-md border border-slate-200",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_200px] border-b border-slate-200 bg-slate-50 p-3 text-sm font-medium text-slate-500",children:[(0,a.jsx)("div",{children:"Student Name"}),(0,a.jsx)("div",{className:"text-center",children:"Status"})]}),(0,a.jsxs)("div",{className:"divide-y divide-slate-100",children:[n.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_200px] items-center p-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-slate-600 font-medium",children:e.name.charAt(0)}),(0,a.jsx)("span",{className:"font-medium text-slate-900",children:e.name})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,a.jsx)("button",{className:"h-8 w-8 rounded-full border border-emerald-200 text-emerald-600 hover:bg-emerald-50 flex items-center justify-center transition-colors",children:(0,a.jsx)(eR.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"h-8 w-8 rounded-full border border-rose-200 text-rose-600 hover:bg-rose-50 flex items-center justify-center transition-colors",children:(0,a.jsx)(eT.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"h-8 w-8 rounded-full border border-amber-200 text-amber-600 hover:bg-amber-50 flex items-center justify-center transition-colors",children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]})]},e.id)),0===n.length&&(0,a.jsx)("div",{className:"p-8 text-center text-slate-500",children:"No students found for this class."})]})]})})]})]})}var eq=t(18085);function eM(e){let{classSectionId:s,subjectId:t}=e,[l,r]=(0,I.useState)("");return(0,a.jsxs)("div",{className:"flex flex-col h-[600px] border border-slate-200 rounded-xl bg-white overflow-hidden shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 border-b border-slate-200 bg-slate-50 p-4",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-100 text-indigo-600",children:(0,a.jsx)(G.A,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-semibold text-slate-900",children:"Class Discussion Room"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Chat with students in this class section"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 bg-slate-50/50",children:[{id:1,sender:"You",role:"teacher",content:"Welcome to the class discussion board! Feel free to ask questions about the current chapter here.",time:"10:00 AM"},{id:2,sender:"John Doe",role:"student",content:"Could you re-explain the concept of fractions we learned yesterday?",time:"10:30 AM"},{id:3,sender:"Jane Smith",role:"student",content:"I was wondering if we will have a pop quiz on this topic soon.",time:"11:15 AM"}].map(e=>(0,a.jsxs)("div",{className:"flex gap-3 ".concat("teacher"===e.role?"flex-row-reverse":""),children:[(0,a.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-xs font-medium ".concat("teacher"===e.role?"bg-indigo-600 text-white":"bg-slate-200 text-slate-700"),children:e.sender.charAt(0)}),(0,a.jsxs)("div",{className:"flex flex-col ".concat("teacher"===e.role?"items-end":"items-start"),children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-900",children:e.sender}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:e.time})]}),(0,a.jsx)("div",{className:"rounded-2xl px-4 py-2 text-sm ".concat("teacher"===e.role?"bg-indigo-600 text-white rounded-tr-none":"bg-white border border-slate-200 text-slate-700 rounded-tl-none shadow-sm"),children:e.content})]})]},e.id))}),(0,a.jsxs)("div",{className:"border-t border-slate-200 bg-white p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"Type your message to the class...",className:"flex-1 rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm outline-none transition-colors focus:border-indigo-500 focus:bg-white focus:ring-1 focus:ring-indigo-500",onKeyDown:e=>{"Enter"===e.key&&l.trim()&&r("")}}),(0,a.jsx)(c.$,{className:"h-11 w-11 shrink-0 rounded-xl bg-indigo-600 hover:bg-indigo-700 p-0",variant:"default",children:(0,a.jsx)(eq.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("p",{className:"mt-2 text-xs text-slate-400 text-center",children:"Messages are visible to all students in this class section."})]})]})}let ez=()=>(0,a.jsx)("div",{className:"p-8 text-center text-slate-500 bg-white rounded-xl border border-slate-200 mt-6",children:"Quizzes Content (WIP)"}),eL=()=>(0,a.jsx)("div",{className:"p-8 text-center text-slate-500 bg-white rounded-xl border border-slate-200 mt-6",children:"Communication Content (WIP)"}),eO=()=>(0,a.jsx)("div",{className:"p-8 text-center text-slate-500 bg-white rounded-xl border border-slate-200 mt-6",children:"AI Insights Content (WIP)"}),e$=()=>(0,a.jsx)("div",{className:"p-8 text-center text-slate-500 bg-white rounded-xl border border-slate-200 mt-6",children:"Interventions Content (WIP)"});function eD(){let e=(0,r.useParams)(),s=e.classSectionId,t=e.subjectId,{data:n,isLoading:f,error:j}=(0,l.I)({queryKey:["class-overview",s,t],queryFn:async()=>{let e=await fetch("/api/teacher/classes/".concat(s,"/").concat(t,"/overview"));if(!e.ok)throw Error("Failed to fetch overview");return e.json()}});return j?(0,a.jsx)("div",{className:"p-8 text-center text-red-500",children:"Failed to load class workspace. Please check the URL or try again later."}):(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 pb-20",children:[(0,a.jsx)("div",{className:"bg-white border-b border-slate-200 px-4 py-6 md:px-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-4",children:[(0,a.jsxs)("nav",{className:"flex items-center text-sm font-medium text-slate-500 whitespace-nowrap overflow-x-auto pb-2 custom-scrollbar",children:[(0,a.jsx)(i(),{href:"/teacher/dashboard",className:"hover:text-slate-900 transition-colors",children:"Home"}),(0,a.jsx)(m.A,{className:"h-4 w-4 mx-2 flex-shrink-0 text-slate-400"}),(0,a.jsx)(i(),{href:"/teacher/classes",className:"hover:text-slate-900 transition-colors",children:"Classes"}),(0,a.jsx)(m.A,{className:"h-4 w-4 mx-2 flex-shrink-0 text-slate-400"}),f?(0,a.jsx)(o.E,{className:"h-4 w-24"}):(0,a.jsxs)("span",{className:"text-indigo-600",children:["Grade ",null==n?void 0:n.grade," - ",null==n?void 0:n.sectionName," (",null==n?void 0:n.subjectName,")"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{children:[f?(0,a.jsx)(o.E,{className:"h-10 w-64 mb-2"}):(0,a.jsxs)("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 flex items-center gap-3",children:[null==n?void 0:n.subjectName,(0,a.jsx)("span",{className:"text-slate-300 font-light text-2xl",children:"/"}),(0,a.jsxs)("span",{className:"text-slate-600 font-semibold",children:[null==n?void 0:n.grade,null==n?void 0:n.sectionName]})]}),f?(0,a.jsx)(o.E,{className:"h-4 w-40 mt-2"}):(0,a.jsxs)("p",{className:"mt-1 flex items-center gap-2 text-sm text-slate-500",children:[(0,a.jsxs)("span",{className:"font-medium text-slate-700",children:[null==n?void 0:n.studentCount," Students"]}),(0,a.jsx)("span",{className:"text-slate-300",children:"â€¢"}),(0,a.jsxs)("span",{children:[null==n?void 0:n.board," Curriculum"]}),(0,a.jsx)("span",{className:"text-slate-300",children:"â€¢"}),(0,a.jsx)("span",{className:"uppercase text-xs tracking-wider font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100",children:"Active"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)(c.$,{variant:"outline",className:"h-10 bg-white shrink-0 hidden sm:flex",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"})," Export"]}),(0,a.jsx)(c.$,{variant:"outline",className:"h-10 bg-white shrink-0",size:"icon",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-slate-600"})}),(0,a.jsx)("div",{className:"w-full sm:w-px h-px sm:h-8 bg-slate-200 mx-1 hidden sm:block"}),(0,a.jsxs)(c.$,{variant:"secondary",className:"h-10 shrink-0",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"})," Announce"]}),(0,a.jsxs)(c.$,{variant:"default",className:"h-10 bg-indigo-600 hover:bg-indigo-700 shrink-0 shadow-sm shadow-indigo-200",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"})," Start Live Class"]})]})]})]})}),(0,a.jsx)("div",{className:"px-4 md:px-8 mt-6 max-w-7xl mx-auto",children:(0,a.jsxs)(d.tU,{defaultValue:"overview",className:"w-full",children:[(0,a.jsx)("div",{className:"relative border-b border-slate-200 bg-slate-50/50",children:(0,a.jsxs)(d.j7,{className:"h-12 w-full justify-start rounded-none border-none bg-transparent p-0 overflow-x-auto flex-nowrap hide-scrollbar",children:[(0,a.jsx)(d.Xi,{value:"overview",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Overview"}),(0,a.jsx)(d.Xi,{value:"roster",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Roster"}),(0,a.jsx)(d.Xi,{value:"schedule",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Schedule"}),(0,a.jsx)(d.Xi,{value:"lessons",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Lesson Plan"}),(0,a.jsx)(d.Xi,{value:"materials",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Materials"}),(0,a.jsx)("div",{className:"w-px h-6 bg-slate-200 self-center mx-2 shrink-0"}),(0,a.jsx)(d.Xi,{value:"assignments",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Assignments"}),(0,a.jsx)("div",{className:"w-px h-6 bg-slate-200 self-center mx-2 shrink-0"}),(0,a.jsx)(d.Xi,{value:"attendance",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Attendance"}),(0,a.jsx)(d.Xi,{value:"discussions",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-slate-500 hover:text-slate-700 data-[state=active]:border-indigo-600 data-[state=active]:text-indigo-600 shadow-none bg-transparent",children:"Discussions"}),(0,a.jsx)("div",{className:"w-px h-6 bg-slate-200 self-center mx-2 shrink-0"}),(0,a.jsx)(d.Xi,{value:"insights",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-amber-600 hover:text-amber-700 data-[state=active]:border-amber-600 data-[state=active]:text-amber-700 shadow-none bg-transparent",children:"AI Insights"}),(0,a.jsx)(d.Xi,{value:"interventions",className:"relative h-12 rounded-none border-b-2 border-transparent px-4 pb-3 pt-3 font-medium text-rose-600 hover:text-rose-700 data-[state=active]:border-rose-600 data-[state=active]:text-rose-700 shadow-none bg-transparent",children:"Interventions"})]})}),(0,a.jsxs)("div",{className:"pt-2",children:[(0,a.jsx)(d.av,{value:"overview",className:"mt-0 outline-none",children:(0,a.jsx)(S,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"roster",className:"mt-0 outline-none",children:(0,a.jsx)(U,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"schedule",className:"mt-0 outline-none",children:(0,a.jsx)(ee,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"lessons",className:"mt-0 outline-none",children:(0,a.jsx)(ei,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"materials",className:"mt-0 outline-none",children:(0,a.jsx)(eu,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"assignments",className:"mt-0 outline-none",children:(0,a.jsx)(eS,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"quizzes",className:"mt-0 outline-none",children:(0,a.jsx)(ez,{})}),(0,a.jsx)(d.av,{value:"attendance",className:"mt-0 outline-none",children:(0,a.jsx)(eF,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"discussions",className:"mt-0 outline-none",children:(0,a.jsx)(eM,{classSectionId:s,subjectId:t})}),(0,a.jsx)(d.av,{value:"communication",className:"mt-0 outline-none",children:(0,a.jsx)(eL,{})}),(0,a.jsx)(d.av,{value:"insights",className:"mt-0 outline-none",children:(0,a.jsx)(eO,{})}),(0,a.jsx)(d.av,{value:"interventions",className:"mt-0 outline-none",children:(0,a.jsx)(e$,{})})]})]})})]})}}},e=>{e.O(0,[2619,5707,1910,6743,2454,5747,4592,8223,5667,6565,3346,2904,8441,1255,7358],()=>e(e.s=85226)),_N_E=e.O()}]);