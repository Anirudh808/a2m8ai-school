(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9449],{18621:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(95155),l=a(22454),r=a(71141),i=a(52619),d=a.n(i),n=a(12115),o=a(83209),c=a(97003),m=a(33789),x=a(47507),u=a(86651),f=a(66630),h=a(47937),p=a(89442),g=a(26983),b=a(42516),j=a(52056),N=a(52987),v=(a(99708),a(85921)),w=a(18154),y=a(68122);function C(){var e;let s=(0,r.n)(e=>e.user),{data:a,isLoading:i,error:C}=(e=(null==s?void 0:s.id)||"teacher1",(0,l.I)({queryKey:["teacher-classes",e],queryFn:async()=>{let s=await fetch("/api/teacher/classes?teacherId=".concat(e));if(!s.ok)throw Error("Failed to fetch classes");return s.json()}})),[A,R]=(0,n.useState)(""),[k,L]=(0,n.useState)("ALL"),[S,E]=(0,n.useState)("time"),P=(0,n.useMemo)(()=>{if(!a)return[];let e=[...a];if(A.trim()){let s=A.toLowerCase();e=e.filter(e=>e.subjectName.toLowerCase().includes(s)||e.grade.toLowerCase().includes(s)||e.sectionName.toLowerCase().includes(s))}return"ALL"!==k&&(e=e.filter(e=>e.grade===k)),e.sort((e,s)=>"grading"===S?s.metrics.pendingGradingCount-e.metrics.pendingGradingCount:"risk"===S?s.metrics.atRiskCount-e.metrics.atRiskCount:e.grade.localeCompare(s.grade)||e.sectionName.localeCompare(s.sectionName)),e},[a,A,k,S]),M=Array.from(new Set((null==a?void 0:a.map(e=>e.grade))||[])).sort();return(0,t.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto p-4 md:p-8 pt-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"My Classes"}),(0,t.jsx)("p",{className:"mt-1 text-slate-500",children:"Manage your assigned class sections and subjects."})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-400"}),(0,t.jsx)(m.p,{type:"search",placeholder:"Search classes...",className:"pl-9 w-full sm:w-[250px] bg-white",value:A,onChange:e=>R(e.target.value)})]}),(0,t.jsxs)(x.l6,{value:k,onValueChange:L,children:[(0,t.jsx)(x.bq,{className:"w-full sm:w-[140px] bg-white",children:(0,t.jsx)(x.yv,{placeholder:"All Grades"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"ALL",children:"All Grades"}),M.map(e=>(0,t.jsxs)(x.eb,{value:e,children:["Grade ",e]},e))]})]}),(0,t.jsxs)(x.l6,{value:S,onValueChange:E,children:[(0,t.jsx)(x.bq,{className:"w-full sm:w-[180px] bg-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsx)(x.yv,{placeholder:"Sort by"})]})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"time",children:"Sort: Next Class"}),(0,t.jsx)(x.eb,{value:"grading",children:"Sort: Pending Grading"}),(0,t.jsx)(x.eb,{value:"risk",children:"Sort: At-Risk Count"})]})]})]})]}),i?(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mt-6",children:[1,2,3,4,5,6].map(e=>(0,t.jsxs)(o.Zp,{className:"overflow-hidden border-slate-200",children:[(0,t.jsx)("div",{className:"h-2 bg-slate-100"}),(0,t.jsxs)(o.aR,{className:"space-y-3 pb-4",children:[(0,t.jsx)(y.E,{className:"h-6 w-3/4"}),(0,t.jsx)(y.E,{className:"h-4 w-1/4"})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsx)(y.E,{className:"h-4 w-full"}),(0,t.jsx)(y.E,{className:"h-4 w-5/6"}),(0,t.jsx)(y.E,{className:"h-4 w-4/6"})]})]},e))}):C?(0,t.jsx)("div",{className:"rounded-xl border-2 border-dashed border-red-200 bg-red-50 p-12 text-center text-red-600",children:"Failed to load classes. Please try again."}):0===P.length?(0,t.jsx)("div",{className:"rounded-xl border-2 border-dashed border-slate-200 bg-slate-50 p-12 text-center text-slate-500",children:"No classes found matching your criteria."}):(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3 mt-6",children:P.map(e=>(0,t.jsxs)(o.Zp,{className:"group overflow-hidden border-slate-200 bg-white hover:border-indigo-300 hover:shadow-lg transition-all flex flex-col",children:[(0,t.jsx)("div",{className:"h-2 w-full bg-gradient-to-r from-indigo-500 via-violet-500 to-indigo-500 bg-[length:200%_100%] transition-all group-hover:bg-[100%_0]"}),(0,t.jsx)(o.aR,{className:"pb-4 relative",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-indigo-600 font-semibold mb-2",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"})," ",e.subjectName]}),(0,t.jsxs)(o.ZB,{className:"text-xl leading-tight",children:["Grade ",e.grade," - Section ",e.sectionName]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500 font-medium",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"})," ",e.studentCount," Students",(0,t.jsx)("span",{className:"text-slate-300",children:"â€¢"}),(0,t.jsx)("span",{className:"text-slate-500",children:e.board})]})]})})}),(0,t.jsx)(o.Wu,{className:"pb-6 flex-1 space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 p-3 border border-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-700 font-medium",children:[(0,t.jsx)("div",{className:"rounded bg-indigo-100 p-1.5 text-indigo-700",children:(0,t.jsx)(g.A,{className:"h-4 w-4"})}),"Next Class"]}),(0,t.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:e.metrics.nextClass})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center rounded-lg bg-amber-50 border border-amber-100 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-amber-700 mb-1",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Pending"})]}),(0,t.jsx)("span",{className:"text-xl font-bold text-amber-900",children:e.metrics.pendingGradingCount})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center rounded-lg bg-rose-50 border border-rose-100 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-rose-700 mb-1",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"At-Risk"})]}),(0,t.jsx)("span",{className:"text-xl font-bold text-rose-900",children:e.metrics.atRiskCount})]})]})]})}),(0,t.jsxs)(o.wL,{className:"pt-0 flex flex-col gap-2",children:[(0,t.jsx)(c.$,{className:"w-full bg-indigo-600 hover:bg-indigo-700 gap-2 h-11 shadow-sm",asChild:!0,children:(0,t.jsxs)(d(),{href:"/teacher/classes/".concat(e.classSectionId,"/").concat(e.subjectId),children:["Open Workspace ",(0,t.jsx)(N.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)("div",{className:"flex w-full gap-2",children:[(0,t.jsxs)(c.$,{variant:"outline",className:"flex-1 h-9 bg-slate-50 text-slate-600 gap-1.5",disabled:!1,children:[(0,t.jsx)(v.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs",children:"Live"})]}),(0,t.jsxs)(c.$,{variant:"outline",className:"flex-1 h-9 bg-slate-50 text-slate-600 gap-1.5",disabled:!1,children:[(0,t.jsx)(h.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs",children:"Assign"})]}),(0,t.jsxs)(c.$,{variant:"outline",className:"flex-1 h-9 bg-slate-50 text-slate-600 gap-1.5",children:[(0,t.jsx)(w.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs",children:"Attend"})]})]})]})]},e.id))})]})}},25016:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var t=a(2821),l=a(75889);function r(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,t.$)(s))}},30783:(e,s,a)=>{Promise.resolve().then(a.bind(a,18621))},33789:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(95155),l=a(12115),r=a(25016);let i=l.forwardRef((e,s)=>{let{className:a,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-11 w-full rounded-lg border-2 border-slate-200 bg-white px-4 py-2 text-sm transition-colors placeholder:text-slate-400","focus-visible:outline-none focus-visible:border-indigo-400 focus-visible:ring-2 focus-visible:ring-indigo-500/20","disabled:cursor-not-allowed disabled:opacity-50","file:border-0 file:bg-transparent file:text-sm file:font-medium",a),ref:s,...i})});i.displayName="Input"},47507:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>p,gC:()=>h,l6:()=>c,yv:()=>m});var t=a(95155),l=a(12115),r=a(48786),i=a(24033),d=a(12108),n=a(5917),o=a(25016);let c=r.bL;r.YJ;let m=r.WT,x=l.forwardRef((e,s)=>{let{className:a,children:l,...d}=e;return(0,t.jsxs)(r.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...d,children:[l,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})});u.displayName=r.PP.displayName;let f=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=r.wn.displayName;let h=l.forwardRef((e,s)=>{let{className:a,children:l,position:i="popper",...d}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...d,children:[(0,t.jsx)(u,{}),(0,t.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(f,{})]})})});h.displayName=r.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=r.JU.displayName;let p=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(r.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),(0,t.jsx)(r.p4,{children:l})]})});p.displayName=r.q7.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=r.wv.displayName},68122:(e,s,a)=>{"use strict";a.d(s,{E:()=>r});var t=a(95155),l=a(25016);function r(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...a})}},71141:(e,s,a)=>{"use strict";a.d(s,{n:()=>r});var t=a(25959),l=a(89863);let r=(0,t.v)()((0,l.Zr)(e=>({user:null,parentMode:!1,setUser:s=>e({user:s,parentMode:!1}),setParentMode:s=>e({parentMode:s}),logout:()=>e({user:null,parentMode:!1})}),{name:"lms-auth"}))},83209:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>d,wL:()=>m});var t=a(95155),l=a(12115),r=a(25016);let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border border-slate-200/80 bg-white text-slate-950 shadow-sm shadow-slate-200/50 transition-all duration-200","hover:shadow-md hover:shadow-slate-200/60 hover:border-slate-200",a),...l})});i.displayName="Card";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6 pb-4",a),...l})});d.displayName="CardHeader";let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight text-slate-900",a),...l})});n.displayName="CardTitle";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-slate-500",a),...l})});o.displayName="CardDescription";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...l})});c.displayName="CardContent";let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...l})});m.displayName="CardFooter"},97003:(e,s,a)=>{"use strict";a.d(s,{$:()=>o});var t=a(95155),l=a(12115),r=a(32467),i=a(83101),d=a(25016);let n=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/50 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700 hover:shadow-md",destructive:"bg-red-500 text-white shadow-sm hover:bg-red-600",outline:"border-2 border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/50",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-indigo-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-6",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((e,s)=>{let{className:a,variant:l,size:i,asChild:o=!1,...c}=e,m=o?r.DX:"button";return(0,t.jsx)(m,{className:(0,d.cn)(n({variant:l,size:i,className:a})),ref:s,...c})});o.displayName="Button"}},e=>{e.O(0,[2619,5707,1910,6743,2454,5747,8223,7359,8441,1255,7358],()=>e(e.s=30783)),_N_E=e.O()}]);